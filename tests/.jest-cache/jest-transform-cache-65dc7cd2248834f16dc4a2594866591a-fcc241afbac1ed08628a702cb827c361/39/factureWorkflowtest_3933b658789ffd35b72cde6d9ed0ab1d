e11f9f6586e28b8af81e18c6b648c235
"use strict";

// Mocks
_getJestObj().mock("../../../src/services/FactureService", () => {
  return jest.fn().mockImplementation(() => _services.mockFactureService);
});
_getJestObj().mock("../../../src/services/ClientService", () => {
  return jest.fn().mockImplementation(() => _services.mockClientService);
});
_getJestObj().mock("../../../src/services/TarificationService", () => {
  return jest.fn().mockImplementation(() => _services.mockTarificationService);
});

// Import après les mocks
var _react = _interopRequireDefault(require("react"));
var _testUtils = require("../../utils/testUtils");
var _services = require("../../mocks/services");
var _FactureGestion = _interopRequireDefault(require("../../../src/components/factures/FactureGestion"));
var _jsxRuntime = require("react/jsx-runtime");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
} // tests/e2e/factures/factureWorkflow.test.jsx
// Tests End-to-End pour le workflow complet de gestion des factures
describe('Workflow Factures E2E', () => {
  beforeEach(() => {
    (0, _services.resetAllMocks)();
    jest.clearAllMocks();
  });
  describe('Workflow complet : Création → Modification → Suppression', () => {
    it('devrait permettre de créer une nouvelle facture', async () => {
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));

      // 1. Attendre le chargement initial
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.queryByText(/chargement/i)).not.toBeInTheDocument();
      });

      // 2. Cliquer sur "Nouvelle facture"
      const newButton = _testUtils.screen.getByRole('button', {
        name: /nouvelle facture/i
      });
      await user.click(newButton);

      // 3. Vérifier que le formulaire s'affiche
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText(/nouvelle facture/i)).toBeInTheDocument();
      });

      // 4. Remplir le formulaire
      const clientSelect = _testUtils.screen.getByLabelText(/client/i);
      await user.selectOptions(clientSelect, '1');

      // 5. Ajouter une ligne
      const addLineButton = _testUtils.screen.getByRole('button', {
        name: /ajouter.*ligne/i
      });
      await user.click(addLineButton);

      // 6. Remplir la ligne
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByTestId('ligne-facture-0')).toBeInTheDocument();
      });
      const serviceSelect = _testUtils.screen.getByTestId('service-ligne-0');
      await user.selectOptions(serviceSelect, '1');
      const quantiteInput = _testUtils.screen.getByTestId('quantite-ligne-0');
      await user.clear(quantiteInput);
      await user.type(quantiteInput, '2');

      // 7. Soumettre
      await (0, _testUtils.submitForm)(user, 'Enregistrer');

      // 8. Vérifier le succès
      await (0, _testUtils.waitFor)(() => {
        expect(_services.mockFactureService.creerFacture).toHaveBeenCalled();
        expect(_testUtils.screen.getByText(/facture.*créée/i)).toBeInTheDocument();
      });
    });
    it('devrait permettre de modifier une facture existante', async () => {
      // Préparer les mocks
      _services.mockFactureService.chargerFactures.mockResolvedValue({
        success: true,
        factures: [createTestFacture({
          idFacture: 1,
          etat: 'En attente'
        })]
      });
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));

      // 1. Attendre le chargement
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('001.2025')).toBeInTheDocument();
      });

      // 2. Cliquer sur Modifier
      const editButton = _testUtils.screen.getByRole('button', {
        name: /modifier/i
      });
      await user.click(editButton);

      // 3. Vérifier que le formulaire s'affiche en mode édition
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByDisplayValue('001.2025')).toBeInTheDocument();
      });

      // 4. Modifier la ristourne
      const ristourneInput = _testUtils.screen.getByLabelText(/ristourne/i);
      await user.clear(ristourneInput);
      await user.type(ristourneInput, '50');

      // 5. Sauvegarder
      await (0, _testUtils.submitForm)(user, 'Modifier');

      // 6. Vérifier le succès
      await (0, _testUtils.waitFor)(() => {
        expect(_services.mockFactureService.modifierFacture).toHaveBeenCalledWith(1, expect.objectContaining({
          ristourne: 50
        }));
      });
    });
    it('devrait permettre de supprimer une facture', async () => {
      _services.mockFactureService.chargerFactures.mockResolvedValue({
        success: true,
        factures: [createTestFacture({
          idFacture: 1
        })]
      });
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));

      // 1. Attendre le chargement
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('001.2025')).toBeInTheDocument();
      });

      // 2. Cliquer sur Supprimer
      const deleteButton = _testUtils.screen.getByRole('button', {
        name: /supprimer/i
      });
      await user.click(deleteButton);

      // 3. Confirmer la suppression
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText(/confirmer.*suppression/i)).toBeInTheDocument();
      });
      const confirmButton = _testUtils.screen.getByRole('button', {
        name: /confirmer/i
      });
      await user.click(confirmButton);

      // 4. Vérifier le succès
      await (0, _testUtils.waitFor)(() => {
        expect(_services.mockFactureService.supprimerFacture).toHaveBeenCalledWith(1);
        expect(_testUtils.screen.getByText(/facture.*supprimée/i)).toBeInTheDocument();
      });
    });
  });
  describe('Workflow : Visualisation et actions', () => {
    it('devrait permettre de visualiser une facture', async () => {
      _services.mockFactureService.chargerFactures.mockResolvedValue({
        success: true,
        factures: [createTestFacture({
          idFacture: 1
        })]
      });
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('001.2025')).toBeInTheDocument();
      });

      // Cliquer sur la ligne ou le bouton Voir
      const viewButton = _testUtils.screen.getByRole('button', {
        name: /voir/i
      });
      await user.click(viewButton);

      // Vérifier l'affichage en mode lecture
      await (0, _testUtils.waitFor)(() => {
        const inputs = _testUtils.screen.getAllByRole('textbox');
        inputs.forEach(input => {
          expect(input).toHaveAttribute('readonly');
        });
      });
    });
    it('devrait permettre d\'imprimer depuis la visualisation', async () => {
      _services.mockFactureService.chargerFactures.mockResolvedValue({
        success: true,
        factures: [createTestFacture({
          idFacture: 1
        })]
      });
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText('001.2025')).toBeInTheDocument();
      });

      // Aller en mode visualisation
      const viewButton = _testUtils.screen.getByRole('button', {
        name: /voir/i
      });
      await user.click(viewButton);

      // Imprimer
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByRole('button', {
          name: /imprimer/i
        })).toBeInTheDocument();
      });
      const printButton = _testUtils.screen.getByRole('button', {
        name: /imprimer/i
      });
      await user.click(printButton);
      expect(_services.mockFactureService.imprimerFacture).toHaveBeenCalledWith(1);
    });
  });
  describe('Workflow : Filtrage et recherche', () => {
    it('devrait filtrer et afficher les résultats corrects', async () => {
      _services.mockFactureService.chargerFactures.mockResolvedValue({
        success: true,
        factures: [createTestFacture({
          idFacture: 1,
          etat: 'En attente'
        }), createTestFacture({
          idFacture: 2,
          etat: 'Payée'
        }), createTestFacture({
          idFacture: 3,
          etat: 'En attente'
        })]
      });
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getAllByRole('row').length).toBeGreaterThan(3);
      });

      // Filtrer par état "Payée"
      const etatFilter = _testUtils.screen.getByLabelText(/état/i);
      await user.selectOptions(etatFilter, 'Payée');

      // Vérifier que seule la facture payée est affichée
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getAllByRole('row').length).toBe(2); // Header + 1 facture
      });
    });
  });
  describe('Workflow : Gestion des erreurs', () => {
    it('devrait gérer une erreur de création', async () => {
      _services.mockFactureService.creerFacture.mockRejectedValueOnce(new Error('Erreur serveur'));
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));

      // Aller au formulaire de création
      const newButton = _testUtils.screen.getByRole('button', {
        name: /nouvelle facture/i
      });
      await user.click(newButton);

      // Remplir minimalement
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByLabelText(/client/i)).toBeInTheDocument();
      });
      const clientSelect = _testUtils.screen.getByLabelText(/client/i);
      await user.selectOptions(clientSelect, '1');

      // Soumettre
      await (0, _testUtils.submitForm)(user, 'Enregistrer');

      // Vérifier l'erreur
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText(/erreur/i)).toBeInTheDocument();
      });
    });
    it('devrait permettre de réessayer après une erreur', async () => {
      // Première tentative échoue
      _services.mockFactureService.creerFacture.mockRejectedValueOnce(new Error('Erreur'));

      // Deuxième tentative réussit
      _services.mockFactureService.creerFacture.mockResolvedValueOnce({
        success: true,
        idFacture: 1
      });
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));
      const newButton = _testUtils.screen.getByRole('button', {
        name: /nouvelle facture/i
      });
      await user.click(newButton);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByLabelText(/client/i)).toBeInTheDocument();
      });
      const clientSelect = _testUtils.screen.getByLabelText(/client/i);
      await user.selectOptions(clientSelect, '1');

      // Première soumission (échec)
      await (0, _testUtils.submitForm)(user, 'Enregistrer');
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByText(/erreur/i)).toBeInTheDocument();
      });

      // Réessayer
      await (0, _testUtils.submitForm)(user, 'Enregistrer');
      await (0, _testUtils.waitFor)(() => {
        expect(_services.mockFactureService.creerFacture).toHaveBeenCalledTimes(2);
      });
    });
  });
  describe('Workflow : Navigation', () => {
    it('devrait revenir à la liste après création', async () => {
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));

      // Aller au formulaire
      const newButton = _testUtils.screen.getByRole('button', {
        name: /nouvelle facture/i
      });
      await user.click(newButton);
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByLabelText(/client/i)).toBeInTheDocument();
      });

      // Remplir et soumettre
      const clientSelect = _testUtils.screen.getByLabelText(/client/i);
      await user.selectOptions(clientSelect, '1');
      await (0, _testUtils.submitForm)(user, 'Enregistrer');

      // Vérifier le retour à la liste
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByRole('table')).toBeInTheDocument();
      });
    });
    it('devrait revenir à la liste avec le bouton Retour', async () => {
      const {
        user
      } = (0, _testUtils.renderWithProviders)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_FactureGestion.default, {}));

      // Aller au formulaire
      const newButton = _testUtils.screen.getByRole('button', {
        name: /nouvelle facture/i
      });
      await user.click(newButton);

      // Cliquer sur Retour
      const retourButton = _testUtils.screen.getByRole('button', {
        name: /retour/i
      });
      await user.click(retourButton);

      // Vérifier le retour à la liste
      await (0, _testUtils.waitFor)(() => {
        expect(_testUtils.screen.getByRole('table')).toBeInTheDocument();
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJqZXN0IiwiZm4iLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtb2NrRmFjdHVyZVNlcnZpY2UiLCJtb2NrQ2xpZW50U2VydmljZSIsIm1vY2tUYXJpZmljYXRpb25TZXJ2aWNlIiwiX3JlYWN0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdGVzdFV0aWxzIiwiX3NlcnZpY2VzIiwiX0ZhY3R1cmVHZXN0aW9uIiwiX2pzeFJ1bnRpbWUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJyZXNldEFsbE1vY2tzIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwidXNlciIsInJlbmRlcldpdGhQcm92aWRlcnMiLCJqc3giLCJ3YWl0Rm9yIiwiZXhwZWN0Iiwic2NyZWVuIiwicXVlcnlCeVRleHQiLCJub3QiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIm5ld0J1dHRvbiIsImdldEJ5Um9sZSIsIm5hbWUiLCJjbGljayIsImdldEJ5VGV4dCIsImNsaWVudFNlbGVjdCIsImdldEJ5TGFiZWxUZXh0Iiwic2VsZWN0T3B0aW9ucyIsImFkZExpbmVCdXR0b24iLCJnZXRCeVRlc3RJZCIsInNlcnZpY2VTZWxlY3QiLCJxdWFudGl0ZUlucHV0IiwiY2xlYXIiLCJ0eXBlIiwic3VibWl0Rm9ybSIsImNyZWVyRmFjdHVyZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJjaGFyZ2VyRmFjdHVyZXMiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInN1Y2Nlc3MiLCJmYWN0dXJlcyIsImNyZWF0ZVRlc3RGYWN0dXJlIiwiaWRGYWN0dXJlIiwiZXRhdCIsImVkaXRCdXR0b24iLCJnZXRCeURpc3BsYXlWYWx1ZSIsInJpc3RvdXJuZUlucHV0IiwibW9kaWZpZXJGYWN0dXJlIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwicmlzdG91cm5lIiwiZGVsZXRlQnV0dG9uIiwiY29uZmlybUJ1dHRvbiIsInN1cHByaW1lckZhY3R1cmUiLCJ2aWV3QnV0dG9uIiwiaW5wdXRzIiwiZ2V0QWxsQnlSb2xlIiwiZm9yRWFjaCIsImlucHV0IiwidG9IYXZlQXR0cmlidXRlIiwicHJpbnRCdXR0b24iLCJpbXByaW1lckZhY3R1cmUiLCJsZW5ndGgiLCJ0b0JlR3JlYXRlclRoYW4iLCJldGF0RmlsdGVyIiwidG9CZSIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwicmV0b3VyQnV0dG9uIl0sInNvdXJjZXMiOlsiZmFjdHVyZVdvcmtmbG93LnRlc3QuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHRlc3RzL2UyZS9mYWN0dXJlcy9mYWN0dXJlV29ya2Zsb3cudGVzdC5qc3hcclxuLy8gVGVzdHMgRW5kLXRvLUVuZCBwb3VyIGxlIHdvcmtmbG93IGNvbXBsZXQgZGUgZ2VzdGlvbiBkZXMgZmFjdHVyZXNcclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlcldpdGhQcm92aWRlcnMsIHNjcmVlbiwgd2FpdEZvciwgZmlsbEZvcm0sIHN1Ym1pdEZvcm0gfSBmcm9tICcuLi8uLi91dGlscy90ZXN0VXRpbHMnO1xyXG5pbXBvcnQgeyBtb2NrRmFjdHVyZVNlcnZpY2UsIG1vY2tDbGllbnRTZXJ2aWNlLCBtb2NrVGFyaWZpY2F0aW9uU2VydmljZSwgcmVzZXRBbGxNb2NrcyB9IGZyb20gJy4uLy4uL21vY2tzL3NlcnZpY2VzJztcclxuXHJcbi8vIE1vY2tzXHJcbmplc3QubW9jaygnQHNlcnZpY2VzL0ZhY3R1cmVTZXJ2aWNlJywgKCkgPT4ge1xyXG4gIHJldHVybiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IG1vY2tGYWN0dXJlU2VydmljZSk7XHJcbn0pO1xyXG5cclxuamVzdC5tb2NrKCdAc2VydmljZXMvQ2xpZW50U2VydmljZScsICgpID0+IHtcclxuICByZXR1cm4gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBtb2NrQ2xpZW50U2VydmljZSk7XHJcbn0pO1xyXG5cclxuamVzdC5tb2NrKCdAc2VydmljZXMvVGFyaWZpY2F0aW9uU2VydmljZScsICgpID0+IHtcclxuICByZXR1cm4gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBtb2NrVGFyaWZpY2F0aW9uU2VydmljZSk7XHJcbn0pO1xyXG5cclxuLy8gSW1wb3J0IGFwcsOocyBsZXMgbW9ja3NcclxuaW1wb3J0IEZhY3R1cmVHZXN0aW9uIGZyb20gJ0Bjb21wb25lbnRzL2ZhY3R1cmVzL0ZhY3R1cmVHZXN0aW9uJztcclxuXHJcbmRlc2NyaWJlKCdXb3JrZmxvdyBGYWN0dXJlcyBFMkUnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICByZXNldEFsbE1vY2tzKCk7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1dvcmtmbG93IGNvbXBsZXQgOiBDcsOpYXRpb24g4oaSIE1vZGlmaWNhdGlvbiDihpIgU3VwcHJlc3Npb24nLCAoKSA9PiB7XHJcbiAgICBpdCgnZGV2cmFpdCBwZXJtZXR0cmUgZGUgY3LDqWVyIHVuZSBub3V2ZWxsZSBmYWN0dXJlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoPEZhY3R1cmVHZXN0aW9uIC8+KTtcclxuICAgICAgXHJcbiAgICAgIC8vIDEuIEF0dGVuZHJlIGxlIGNoYXJnZW1lbnQgaW5pdGlhbFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KC9jaGFyZ2VtZW50L2kpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyAyLiBDbGlxdWVyIHN1ciBcIk5vdXZlbGxlIGZhY3R1cmVcIlxyXG4gICAgICBjb25zdCBuZXdCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9ub3V2ZWxsZSBmYWN0dXJlL2kgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2sobmV3QnV0dG9uKTtcclxuICAgICAgXHJcbiAgICAgIC8vIDMuIFbDqXJpZmllciBxdWUgbGUgZm9ybXVsYWlyZSBzJ2FmZmljaGVcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL25vdXZlbGxlIGZhY3R1cmUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gNC4gUmVtcGxpciBsZSBmb3JtdWxhaXJlXHJcbiAgICAgIGNvbnN0IGNsaWVudFNlbGVjdCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvY2xpZW50L2kpO1xyXG4gICAgICBhd2FpdCB1c2VyLnNlbGVjdE9wdGlvbnMoY2xpZW50U2VsZWN0LCAnMScpO1xyXG4gICAgICBcclxuICAgICAgLy8gNS4gQWpvdXRlciB1bmUgbGlnbmVcclxuICAgICAgY29uc3QgYWRkTGluZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2Fqb3V0ZXIuKmxpZ25lL2kgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soYWRkTGluZUJ1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyA2LiBSZW1wbGlyIGxhIGxpZ25lXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xpZ25lLWZhY3R1cmUtMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHNlcnZpY2VTZWxlY3QgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3NlcnZpY2UtbGlnbmUtMCcpO1xyXG4gICAgICBhd2FpdCB1c2VyLnNlbGVjdE9wdGlvbnMoc2VydmljZVNlbGVjdCwgJzEnKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHF1YW50aXRlSW5wdXQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ3F1YW50aXRlLWxpZ25lLTAnKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGVhcihxdWFudGl0ZUlucHV0KTtcclxuICAgICAgYXdhaXQgdXNlci50eXBlKHF1YW50aXRlSW5wdXQsICcyJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyA3LiBTb3VtZXR0cmVcclxuICAgICAgYXdhaXQgc3VibWl0Rm9ybSh1c2VyLCAnRW5yZWdpc3RyZXInKTtcclxuICAgICAgXHJcbiAgICAgIC8vIDguIFbDqXJpZmllciBsZSBzdWNjw6hzXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChtb2NrRmFjdHVyZVNlcnZpY2UuY3JlZXJGYWN0dXJlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2ZhY3R1cmUuKmNyw6nDqWUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RldnJhaXQgcGVybWV0dHJlIGRlIG1vZGlmaWVyIHVuZSBmYWN0dXJlIGV4aXN0YW50ZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgLy8gUHLDqXBhcmVyIGxlcyBtb2Nrc1xyXG4gICAgICBtb2NrRmFjdHVyZVNlcnZpY2UuY2hhcmdlckZhY3R1cmVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGZhY3R1cmVzOiBbY3JlYXRlVGVzdEZhY3R1cmUoeyBpZEZhY3R1cmU6IDEsIGV0YXQ6ICdFbiBhdHRlbnRlJyB9KV1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoPEZhY3R1cmVHZXN0aW9uIC8+KTtcclxuICAgICAgXHJcbiAgICAgIC8vIDEuIEF0dGVuZHJlIGxlIGNoYXJnZW1lbnRcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzAwMS4yMDI1JykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gMi4gQ2xpcXVlciBzdXIgTW9kaWZpZXJcclxuICAgICAgY29uc3QgZWRpdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL21vZGlmaWVyL2kgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZWRpdEJ1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyAzLiBWw6lyaWZpZXIgcXVlIGxlIGZvcm11bGFpcmUgcydhZmZpY2hlIGVuIG1vZGUgw6lkaXRpb25cclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnMDAxLjIwMjUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyA0LiBNb2RpZmllciBsYSByaXN0b3VybmVcclxuICAgICAgY29uc3QgcmlzdG91cm5lSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL3Jpc3RvdXJuZS9pKTtcclxuICAgICAgYXdhaXQgdXNlci5jbGVhcihyaXN0b3VybmVJbnB1dCk7XHJcbiAgICAgIGF3YWl0IHVzZXIudHlwZShyaXN0b3VybmVJbnB1dCwgJzUwJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyA1LiBTYXV2ZWdhcmRlclxyXG4gICAgICBhd2FpdCBzdWJtaXRGb3JtKHVzZXIsICdNb2RpZmllcicpO1xyXG4gICAgICBcclxuICAgICAgLy8gNi4gVsOpcmlmaWVyIGxlIHN1Y2PDqHNcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KG1vY2tGYWN0dXJlU2VydmljZS5tb2RpZmllckZhY3R1cmUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEsIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcclxuICAgICAgICAgIHJpc3RvdXJuZTogNTBcclxuICAgICAgICB9KSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ2RldnJhaXQgcGVybWV0dHJlIGRlIHN1cHByaW1lciB1bmUgZmFjdHVyZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZhY3R1cmVTZXJ2aWNlLmNoYXJnZXJGYWN0dXJlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmYWN0dXJlczogW2NyZWF0ZVRlc3RGYWN0dXJlKHsgaWRGYWN0dXJlOiAxIH0pXVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyg8RmFjdHVyZUdlc3Rpb24gLz4pO1xyXG4gICAgICBcclxuICAgICAgLy8gMS4gQXR0ZW5kcmUgbGUgY2hhcmdlbWVudFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnMDAxLjIwMjUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyAyLiBDbGlxdWVyIHN1ciBTdXBwcmltZXJcclxuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvc3VwcHJpbWVyL2kgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soZGVsZXRlQnV0dG9uKTtcclxuICAgICAgXHJcbiAgICAgIC8vIDMuIENvbmZpcm1lciBsYSBzdXBwcmVzc2lvblxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvY29uZmlybWVyLipzdXBwcmVzc2lvbi9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25maXJtQnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvY29uZmlybWVyL2kgfSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY29uZmlybUJ1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyA0LiBWw6lyaWZpZXIgbGUgc3VjY8Ooc1xyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QobW9ja0ZhY3R1cmVTZXJ2aWNlLnN1cHByaW1lckZhY3R1cmUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEpO1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9mYWN0dXJlLipzdXBwcmltw6llL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnV29ya2Zsb3cgOiBWaXN1YWxpc2F0aW9uIGV0IGFjdGlvbnMnLCAoKSA9PiB7XHJcbiAgICBpdCgnZGV2cmFpdCBwZXJtZXR0cmUgZGUgdmlzdWFsaXNlciB1bmUgZmFjdHVyZScsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZhY3R1cmVTZXJ2aWNlLmNoYXJnZXJGYWN0dXJlcy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmYWN0dXJlczogW2NyZWF0ZVRlc3RGYWN0dXJlKHsgaWRGYWN0dXJlOiAxIH0pXVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyg8RmFjdHVyZUdlc3Rpb24gLz4pO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJzAwMS4yMDI1JykpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2xpcXVlciBzdXIgbGEgbGlnbmUgb3UgbGUgYm91dG9uIFZvaXJcclxuICAgICAgY29uc3Qgdmlld0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZvaXIvaSB9KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayh2aWV3QnV0dG9uKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmllciBsJ2FmZmljaGFnZSBlbiBtb2RlIGxlY3R1cmVcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgndGV4dGJveCcpO1xyXG4gICAgICAgIGlucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgIGV4cGVjdChpbnB1dCkudG9IYXZlQXR0cmlidXRlKCdyZWFkb25seScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZXZyYWl0IHBlcm1ldHRyZSBkXFwnaW1wcmltZXIgZGVwdWlzIGxhIHZpc3VhbGlzYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIG1vY2tGYWN0dXJlU2VydmljZS5jaGFyZ2VyRmFjdHVyZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZmFjdHVyZXM6IFtjcmVhdGVUZXN0RmFjdHVyZSh7IGlkRmFjdHVyZTogMSB9KV1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoPEZhY3R1cmVHZXN0aW9uIC8+KTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCcwMDEuMjAyNScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFsbGVyIGVuIG1vZGUgdmlzdWFsaXNhdGlvblxyXG4gICAgICBjb25zdCB2aWV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvdm9pci9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHZpZXdCdXR0b24pO1xyXG4gICAgICBcclxuICAgICAgLy8gSW1wcmltZXJcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2ltcHJpbWVyL2kgfSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcHJpbnRCdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9pbXByaW1lci9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHByaW50QnV0dG9uKTtcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChtb2NrRmFjdHVyZVNlcnZpY2UuaW1wcmltZXJGYWN0dXJlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgxKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnV29ya2Zsb3cgOiBGaWx0cmFnZSBldCByZWNoZXJjaGUnLCAoKSA9PiB7XHJcbiAgICBpdCgnZGV2cmFpdCBmaWx0cmVyIGV0IGFmZmljaGVyIGxlcyByw6lzdWx0YXRzIGNvcnJlY3RzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBtb2NrRmFjdHVyZVNlcnZpY2UuY2hhcmdlckZhY3R1cmVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGZhY3R1cmVzOiBbXHJcbiAgICAgICAgICBjcmVhdGVUZXN0RmFjdHVyZSh7IGlkRmFjdHVyZTogMSwgZXRhdDogJ0VuIGF0dGVudGUnIH0pLFxyXG4gICAgICAgICAgY3JlYXRlVGVzdEZhY3R1cmUoeyBpZEZhY3R1cmU6IDIsIGV0YXQ6ICdQYXnDqWUnIH0pLFxyXG4gICAgICAgICAgY3JlYXRlVGVzdEZhY3R1cmUoeyBpZEZhY3R1cmU6IDMsIGV0YXQ6ICdFbiBhdHRlbnRlJyB9KSxcclxuICAgICAgICBdXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKDxGYWN0dXJlR2VzdGlvbiAvPik7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5Um9sZSgncm93JykubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gRmlsdHJlciBwYXIgw6l0YXQgXCJQYXnDqWVcIlxyXG4gICAgICBjb25zdCBldGF0RmlsdGVyID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC/DqXRhdC9pKTtcclxuICAgICAgYXdhaXQgdXNlci5zZWxlY3RPcHRpb25zKGV0YXRGaWx0ZXIsICdQYXnDqWUnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmllciBxdWUgc2V1bGUgbGEgZmFjdHVyZSBwYXnDqWUgZXN0IGFmZmljaMOpZVxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5Um9sZSgncm93JykubGVuZ3RoKS50b0JlKDIpOyAvLyBIZWFkZXIgKyAxIGZhY3R1cmVcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ1dvcmtmbG93IDogR2VzdGlvbiBkZXMgZXJyZXVycycsICgpID0+IHtcclxuICAgIGl0KCdkZXZyYWl0IGfDqXJlciB1bmUgZXJyZXVyIGRlIGNyw6lhdGlvbicsIGFzeW5jICgpID0+IHtcclxuICAgICAgbW9ja0ZhY3R1cmVTZXJ2aWNlLmNyZWVyRmFjdHVyZS5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdFcnJldXIgc2VydmV1cicpKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyg8RmFjdHVyZUdlc3Rpb24gLz4pO1xyXG4gICAgICBcclxuICAgICAgLy8gQWxsZXIgYXUgZm9ybXVsYWlyZSBkZSBjcsOpYXRpb25cclxuICAgICAgY29uc3QgbmV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvbm91dmVsbGUgZmFjdHVyZS9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG5ld0J1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZW1wbGlyIG1pbmltYWxlbWVudFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jbGllbnQvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2xpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jbGllbnQvaSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhjbGllbnRTZWxlY3QsICcxJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTb3VtZXR0cmVcclxuICAgICAgYXdhaXQgc3VibWl0Rm9ybSh1c2VyLCAnRW5yZWdpc3RyZXInKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFbDqXJpZmllciBsJ2VycmV1clxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvZXJyZXVyL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdkZXZyYWl0IHBlcm1ldHRyZSBkZSByw6llc3NheWVyIGFwcsOocyB1bmUgZXJyZXVyJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvLyBQcmVtacOocmUgdGVudGF0aXZlIMOpY2hvdWVcclxuICAgICAgbW9ja0ZhY3R1cmVTZXJ2aWNlLmNyZWVyRmFjdHVyZS5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdFcnJldXInKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBEZXV4acOobWUgdGVudGF0aXZlIHLDqXVzc2l0XHJcbiAgICAgIG1vY2tGYWN0dXJlU2VydmljZS5jcmVlckZhY3R1cmUubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGlkRmFjdHVyZTogMVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gcmVuZGVyV2l0aFByb3ZpZGVycyg8RmFjdHVyZUdlc3Rpb24gLz4pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgbmV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvbm91dmVsbGUgZmFjdHVyZS9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG5ld0J1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jbGllbnQvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgY2xpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jbGllbnQvaSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhjbGllbnRTZWxlY3QsICcxJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQcmVtacOocmUgc291bWlzc2lvbiAow6ljaGVjKVxyXG4gICAgICBhd2FpdCBzdWJtaXRGb3JtKHVzZXIsICdFbnJlZ2lzdHJlcicpO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2VycmV1ci9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSw6llc3NheWVyXHJcbiAgICAgIGF3YWl0IHN1Ym1pdEZvcm0odXNlciwgJ0VucmVnaXN0cmVyJyk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3QobW9ja0ZhY3R1cmVTZXJ2aWNlLmNyZWVyRmFjdHVyZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnV29ya2Zsb3cgOiBOYXZpZ2F0aW9uJywgKCkgPT4ge1xyXG4gICAgaXQoJ2RldnJhaXQgcmV2ZW5pciDDoCBsYSBsaXN0ZSBhcHLDqHMgY3LDqWF0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHVzZXIgfSA9IHJlbmRlcldpdGhQcm92aWRlcnMoPEZhY3R1cmVHZXN0aW9uIC8+KTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFsbGVyIGF1IGZvcm11bGFpcmVcclxuICAgICAgY29uc3QgbmV3QnV0dG9uID0gc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAvbm91dmVsbGUgZmFjdHVyZS9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKG5ld0J1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jbGllbnQvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVtcGxpciBldCBzb3VtZXR0cmVcclxuICAgICAgY29uc3QgY2xpZW50U2VsZWN0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9jbGllbnQvaSk7XHJcbiAgICAgIGF3YWl0IHVzZXIuc2VsZWN0T3B0aW9ucyhjbGllbnRTZWxlY3QsICcxJyk7XHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBzdWJtaXRGb3JtKHVzZXIsICdFbnJlZ2lzdHJlcicpO1xyXG4gICAgICBcclxuICAgICAgLy8gVsOpcmlmaWVyIGxlIHJldG91ciDDoCBsYSBsaXN0ZVxyXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgndGFibGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZGV2cmFpdCByZXZlbmlyIMOgIGxhIGxpc3RlIGF2ZWMgbGUgYm91dG9uIFJldG91cicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgeyB1c2VyIH0gPSByZW5kZXJXaXRoUHJvdmlkZXJzKDxGYWN0dXJlR2VzdGlvbiAvPik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBBbGxlciBhdSBmb3JtdWxhaXJlXHJcbiAgICAgIGNvbnN0IG5ld0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL25vdXZlbGxlIGZhY3R1cmUvaSB9KTtcclxuICAgICAgYXdhaXQgdXNlci5jbGljayhuZXdCdXR0b24pO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2xpcXVlciBzdXIgUmV0b3VyXHJcbiAgICAgIGNvbnN0IHJldG91ckJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3JldG91ci9pIH0pO1xyXG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHJldG91ckJ1dHRvbik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBWw6lyaWZpZXIgbGUgcmV0b3VyIMOgIGxhIGxpc3RlXHJcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCd0YWJsZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTsiXSwibWFwcGluZ3MiOiI7O0FBT0E7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLHlDQUE2QixNQUFNO0VBQzFDLE9BQU9DLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0Msa0JBQWtCLENBQUMsTUFBTUMsNEJBQWtCLENBQUM7QUFDL0QsQ0FBQyxDQUFDO0FBRUZMLFdBQUEsR0FBS0MsSUFBSSx3Q0FBNEIsTUFBTTtFQUN6QyxPQUFPQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGtCQUFrQixDQUFDLE1BQU1FLDJCQUFpQixDQUFDO0FBQzlELENBQUMsQ0FBQztBQUVGTixXQUFBLEdBQUtDLElBQUksOENBQWtDLE1BQU07RUFDL0MsT0FBT0MsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDQyxrQkFBa0IsQ0FBQyxNQUFNRyxpQ0FBdUIsQ0FBQztBQUNwRSxDQUFDLENBQUM7O0FBRUY7QUFqQkEsSUFBQUMsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBRixPQUFBO0FBZ0JBLElBQUFHLGVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFpRSxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFBQSxTQUFBRCx1QkFBQU0sQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLFNBQUFm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