{"version":3,"names":["getEnvVar","varName","console","log","value","process","env","undefined","getInitialLogConfig","isDevelopment","debugUrlsEnv","enabled","prefix","methods","constructor","detectBackendConfig","getBackendBaseUrl","backendUrl","exports","LOG_CONFIG","method","args","UrlHelper","currentUrl","URL","window","location","href","protocol","host","backendConfig","appBasePath","detectAppBasePath","REACT_APP_BACKEND_URL","e","message","REACT_APP_API_BASE_URL","envBackendUrl","isLocalhost","includes","config","replace","basePath","pathname","error","apiBaseUrl","apiUrl","warn","currentHost","currentProtocol","envBasePath","pathParts","split","filter","part","length","backendBaseUrl","appUrl","path","startsWith","params","baseUrl","Object","keys","queryString","URLSearchParams","toString","finalUrl","emailClientSenderUrlWithSession","requestIdOrResult","additionalParams","newWindowUrl","completeUrl","requestId","debug","session_transmitted","session_id","request_id","emailClientSenderUrl","endpoint","facturesUrl","filename","encodedFilename","encodeURIComponent","factureUrl","setLogging","Array","isArray","forEach","hasOwnProperty","getDebugInfo","envVars","NODE_ENV","REACT_APP_DEBUG_URLS","logConfig","urlHelper","result","parts","encodedParts","map","index","test","join","setUrlLogging","configureUrlHelperForEnvironment","hostname","enableLogs","_default","default"],"sources":["urlHelper.js"],"sourcesContent":["// src/utils/urlHelper.js - VERSION CORRIGÃ‰E POUR PRODUCTION\r\n\r\n// ðŸ”§ CORRECTION: AccÃ¨s direct aux variables d'environnement injectÃ©es par webpack\r\nconst getEnvVar = (varName) => {\r\n  console.log(`ðŸ”— UrlHelper - Recherche de la variable d'environnement: ${varName}`);\r\n  \r\n  // React injecte automatiquement les variables REACT_APP_* dans process.env\r\n  const value = process.env[varName];\r\n  \r\n  if (value !== undefined) {\r\n    console.log(`ðŸ”— UrlHelper - ${varName} trouvÃ©:`, value);\r\n    return value;\r\n  }\r\n  \r\n  console.log(`ðŸ”— UrlHelper - ${varName} non trouvÃ©`);\r\n  return undefined;\r\n};\r\n\r\n\r\n// Configuration des logs\r\nconst getInitialLogConfig = () => {\r\n  const isDevelopment = getEnvVar('NODE_ENV') === 'development';\r\n  const debugUrlsEnv = getEnvVar('REACT_APP_DEBUG_URLS');\r\n  \r\n  let enabled = false;\r\n  \r\n  if (debugUrlsEnv !== undefined) {\r\n    enabled = debugUrlsEnv === 'true';\r\n    console.log('ðŸ”— UrlHelper - Configuration logs depuis REACT_APP_DEBUG_URLS:', enabled);\r\n  } else {\r\n    enabled = isDevelopment;\r\n    console.log('ðŸ”— UrlHelper - Configuration logs depuis NODE_ENV (development):', enabled);\r\n  }\r\n  \r\n  return {\r\n    enabled,\r\n    prefix: 'ðŸ”— UrlHelper',\r\n    methods: {\r\n      constructor: true,\r\n      detectBackendConfig: true,\r\n      getBackendBaseUrl: true,\r\n      backendUrl: true,\r\n      exports: true\r\n    }\r\n  };\r\n};\r\n\r\nconst LOG_CONFIG = getInitialLogConfig();\r\n\r\nconst log = (method, ...args) => {\r\n  if (LOG_CONFIG.enabled && LOG_CONFIG.methods[method]) {\r\n    console.log(`${LOG_CONFIG.prefix}.${method} -`, ...args);\r\n  }\r\n};\r\n\r\nclass UrlHelper {\r\n  constructor() {\r\n    log('constructor', 'Initialisation');\r\n    \r\n    this.currentUrl = new URL(window.location.href);\r\n    this.protocol = this.currentUrl.protocol;\r\n    this.host = this.currentUrl.host;\r\n    \r\n    log('constructor', 'URL actuelle:', this.currentUrl.href);\r\n    log('constructor', 'Protocole dÃ©tectÃ©:', this.protocol);\r\n    log('constructor', 'Host dÃ©tectÃ©:', this.host);\r\n    \r\n    // Configuration backend\r\n    this.backendConfig = this.detectBackendConfig();\r\n    \r\n    log('constructor', 'Configuration backend finale:', this.backendConfig);\r\n    \r\n    this.appBasePath = this.detectAppBasePath();\r\n    \r\n    log('constructor', 'Initialisation terminÃ©e');\r\n  }\r\n\r\n  detectBackendConfig() {\r\n    log('detectBackendConfig', 'DÃ©tection de la configuration backend');\r\n    \r\n    // ðŸš¨ DEBUG TEMPORAIRE - Ã€ ajouter au dÃ©but de detectBackendConfig()\r\n    console.log('ðŸš¨ DEBUG DIRECT - Test variables:');\r\n    console.log('ðŸš¨ process available:', typeof process !== 'undefined');\r\n    console.log('ðŸš¨ process.env available:', typeof process !== 'undefined' && process.env);\r\n    \r\n    // Test direct des variables webpack\r\n    try {\r\n        // eslint-disable-next-line no-undef\r\n        console.log('ðŸš¨ REACT_APP_BACKEND_URL direct:', typeof REACT_APP_BACKEND_URL !== 'undefined' ? REACT_APP_BACKEND_URL : 'UNDEFINED');\r\n    } catch (e) {\r\n        console.log('ðŸš¨ REACT_APP_BACKEND_URL ERROR:', e.message);\r\n    }\r\n    \r\n    try {\r\n        // eslint-disable-next-line no-undef\r\n        console.log('ðŸš¨ REACT_APP_API_BASE_URL direct:', typeof REACT_APP_API_BASE_URL !== 'undefined' ? REACT_APP_API_BASE_URL : 'UNDEFINED');\r\n    } catch (e) {\r\n        console.log('ðŸš¨ REACT_APP_API_BASE_URL ERROR:', e.message);\r\n    }\r\n    \r\n    if (typeof process !== 'undefined' && process.env) {\r\n        console.log('ðŸš¨ process.env.REACT_APP_BACKEND_URL:', process.env.REACT_APP_BACKEND_URL);\r\n        console.log('ðŸš¨ process.env.REACT_APP_API_BASE_URL:', process.env.REACT_APP_API_BASE_URL);\r\n    }\r\n    // ðŸš¨ FIN DEBUG TEMPORAIRE\r\n    \r\n    // Variables d'environnement avec mÃ©thode amÃ©liorÃ©e\r\n    const envBackendUrl = getEnvVar('REACT_APP_BACKEND_URL');\r\n    const isDevelopment = getEnvVar('NODE_ENV') === 'development';\r\n    const isLocalhost = this.host.includes('localhost') || this.host.includes('127.0.0.1');\r\n    \r\n    log('detectBackendConfig', 'Variables dÃ©tectÃ©es:', {\r\n      envBackendUrl,\r\n      isDevelopment,\r\n      isLocalhost,\r\n      host: this.host\r\n    });\r\n    \r\n    // PRIORITÃ‰ ABSOLUE: Si REACT_APP_BACKEND_URL est dÃ©fini, l'utiliser TOUJOURS\r\n    if (envBackendUrl) {\r\n      console.log('âœ… UrlHelper - REACT_APP_BACKEND_URL trouvÃ©, utilisation prioritaire:', envBackendUrl);\r\n      try {\r\n        const backendUrl = new URL(envBackendUrl);\r\n        const config = {\r\n          protocol: backendUrl.protocol.replace(':', ''),\r\n          host: backendUrl.host,\r\n          basePath: backendUrl.pathname.replace(/\\/$/, '')\r\n        };\r\n        \r\n        console.log('âœ… UrlHelper - Configuration extraite:', config);\r\n        return config;\r\n      } catch (error) {\r\n        console.error('âŒ UrlHelper - Erreur parsing REACT_APP_BACKEND_URL:', envBackendUrl, error);\r\n      }\r\n    }\r\n    \r\n    // FALLBACK AMÃ‰LIORÃ‰: Si pas de REACT_APP_BACKEND_URL, essayer d'utiliser REACT_APP_API_BASE_URL\r\n    const apiBaseUrl = getEnvVar('REACT_APP_API_BASE_URL');\r\n    if (apiBaseUrl) {\r\n      console.log('âš ï¸ UrlHelper - REACT_APP_BACKEND_URL non trouvÃ©, utilisation de REACT_APP_API_BASE_URL:', apiBaseUrl);\r\n      try {\r\n        const apiUrl = new URL(apiBaseUrl);\r\n        // Retirer /api de la fin pour obtenir l'URL de base\r\n        let basePath = apiUrl.pathname.replace(/\\/api\\/?$/, '');\r\n        \r\n        const config = {\r\n          protocol: apiUrl.protocol.replace(':', ''),\r\n          host: apiUrl.host,\r\n          basePath: basePath\r\n        };\r\n        \r\n        console.log('âœ… UrlHelper - Configuration extraite de REACT_APP_API_BASE_URL:', config);\r\n        return config;\r\n      } catch (error) {\r\n        console.error('âŒ UrlHelper - Erreur parsing REACT_APP_API_BASE_URL:', apiBaseUrl, error);\r\n      }\r\n    }\r\n    \r\n    // Fallback final\r\n    console.warn('ðŸš¨ UrlHelper: Aucune variable d\\'environnement backend trouvÃ©e');\r\n    \r\n    if (isDevelopment || isLocalhost) {\r\n      console.log('UrlHelper - Mode dÃ©veloppement dÃ©tectÃ©');\r\n      return {\r\n        protocol: 'https',\r\n        host: 'localhost',\r\n        basePath: '/fact-back'\r\n      };\r\n    } else {\r\n      console.log('UrlHelper - Mode production par dÃ©faut');\r\n      const currentHost = this.host;\r\n      const currentProtocol = this.protocol.replace(':', '');\r\n      \r\n      return {\r\n        protocol: currentProtocol,\r\n        host: currentHost,\r\n        basePath: ''\r\n      };\r\n    }\r\n  }\r\n\r\n  detectAppBasePath() {\r\n    const envBasePath = getEnvVar('REACT_APP_BASE_PATH');\r\n    if (envBasePath) {\r\n      return envBasePath;\r\n    }\r\n    \r\n    const pathname = this.currentUrl.pathname;\r\n    const pathParts = pathname.split('/').filter(part => part.length > 0);\r\n    \r\n    if (pathParts.length > 0 && pathParts[0] !== 'static') {\r\n      return '/' + pathParts[0];\r\n    }\r\n    \r\n    return '';\r\n  }\r\n\r\n  getBackendBaseUrl() {\r\n    log('getBackendBaseUrl', 'Construction de l\\'URL backend');\r\n    log('getBackendBaseUrl', 'Configuration backend:', this.backendConfig);\r\n    \r\n    const { protocol, host, basePath } = this.backendConfig;\r\n    const backendBaseUrl = `${protocol}://${host}${basePath}`;\r\n    \r\n    log('getBackendBaseUrl', 'URL backend finale:', backendBaseUrl);\r\n    \r\n    return backendBaseUrl;\r\n  }\r\n\r\n  appUrl(path = '') {\r\n    if (path && !path.startsWith('/')) {\r\n      path = '/' + path;\r\n    }\r\n    \r\n    return `${this.protocol}//${this.host}${this.appBasePath}${path}`;\r\n  }\r\n\r\n  backendUrl(path = '', params = {}) {\r\n    console.log('ðŸ” backendUrl INPUT - path:', path);\r\n    console.log('ðŸ” backendUrl INPUT - params:', params);\r\n    console.log('ðŸ” path contains %3F?', path.includes('%3F'));\r\n    log('backendUrl', 'DÃ©but Construction de l\\'URL backend');\r\n    log('backendUrl', 'Construction URL backend');\r\n    log('backendUrl', 'Path d\\'entrÃ©e:', path);\r\n    log('backendUrl', 'ParamÃ¨tres:', params);\r\n    \r\n    // ðŸš¨ DEBUG TEMPORAIRE - Ã€ ajouter dans backendUrl()\r\n    console.log('ðŸš¨ DEBUG DANS BACKENDURL - Variables disponibles:');\r\n    console.log('ðŸš¨ process available:', typeof process !== 'undefined');\r\n    console.log('ðŸš¨ process.env available:', typeof process !== 'undefined' && process.env);\r\n    \r\n    // Test direct des variables webpack\r\n    try {\r\n        // eslint-disable-next-line no-undef\r\n        console.log('ðŸš¨ REACT_APP_BACKEND_URL direct:', typeof REACT_APP_BACKEND_URL !== 'undefined' ? REACT_APP_BACKEND_URL : 'UNDEFINED');\r\n    } catch (e) {\r\n        console.log('ðŸš¨ REACT_APP_BACKEND_URL ERROR:', e.message);\r\n    }\r\n    \r\n    try {\r\n        // eslint-disable-next-line no-undef\r\n        console.log('ðŸš¨ REACT_APP_API_BASE_URL direct:', typeof REACT_APP_API_BASE_URL !== 'undefined' ? REACT_APP_API_BASE_URL : 'UNDEFINED');\r\n    } catch (e) {\r\n        console.log('ðŸš¨ REACT_APP_API_BASE_URL ERROR:', e.message);\r\n    }\r\n    \r\n    if (typeof process !== 'undefined' && process.env) {\r\n        console.log('ðŸš¨ process.env.REACT_APP_BACKEND_URL:', process.env.REACT_APP_BACKEND_URL);\r\n        console.log('ðŸš¨ process.env.REACT_APP_API_BASE_URL:', process.env.REACT_APP_API_BASE_URL);\r\n    }\r\n    \r\n    // Test de getEnvVar\r\n    console.log('ðŸš¨ getEnvVar(REACT_APP_BACKEND_URL):', getEnvVar('REACT_APP_BACKEND_URL'));\r\n    console.log('ðŸš¨ getEnvVar(REACT_APP_API_BASE_URL):', getEnvVar('REACT_APP_API_BASE_URL'));\r\n    \r\n    console.log('ðŸš¨ Configuration backend actuelle:', this.backendConfig);\r\n    // ðŸš¨ FIN DEBUG TEMPORAIRE\r\n    \r\n    if (path && !path.startsWith('/')) {\r\n      path = '/' + path;\r\n      log('backendUrl', 'Path ajustÃ© avec /:', path);\r\n    }\r\n    \r\n    const baseUrl = this.getBackendBaseUrl() + path;\r\n    log('backendUrl', 'URL de base construite:', baseUrl);\r\n    \r\n    if (Object.keys(params).length > 0) {\r\n      const queryString = new URLSearchParams(params).toString();\r\n      console.log('ðŸ” queryString generated:', queryString);\r\n      log('backendUrl', 'Query string construite:', queryString);\r\n      const finalUrl = `${baseUrl}?${queryString}`;\r\n      console.log('ðŸ” finalUrl before return:', finalUrl);\r\n      console.log('ðŸ” finalUrl contains %3F?', finalUrl.includes('%3F'));\r\n      log('backendUrl', 'URL finale avec paramÃ¨tres:', finalUrl);\r\n      return finalUrl;\r\n    }\r\n    \r\n    console.log('ðŸ” baseUrl without params:', baseUrl);\r\n    log('backendUrl', 'URL finale sans paramÃ¨tres:', baseUrl);\r\n    return baseUrl;\r\n  }\r\n\r\n  emailClientSenderUrlWithSession(requestIdOrResult, additionalParams = {}) {\r\n    console.log('ðŸ” emailClientSenderUrlWithSession INPUT:', requestIdOrResult);\r\n    if (typeof requestIdOrResult === 'object' && requestIdOrResult.newWindowUrl) {\r\n      console.log('ðŸ” newWindowUrl detected:', requestIdOrResult.newWindowUrl);\r\n      if (requestIdOrResult.newWindowUrl.startsWith('http')) {\r\n          return requestIdOrResult.newWindowUrl;\r\n      }\r\n        \r\n        const completeUrl = this.getBackendBaseUrl() + '/' + requestIdOrResult.newWindowUrl.replace(/^\\//, '');\r\n        console.log('ðŸ” URL construite:', completeUrl);\r\n        console.log('ðŸ” Contains %3F?', completeUrl.includes('%3F'));\r\n        return completeUrl;\r\n    }\r\n    \r\n    let requestId;\r\n    let params = { ...additionalParams };\r\n    \r\n    if (typeof requestIdOrResult === 'string') {\r\n      requestId = requestIdOrResult;\r\n    } else if (typeof requestIdOrResult === 'object' && requestIdOrResult.requestId) {\r\n      requestId = requestIdOrResult.requestId;\r\n      if (requestIdOrResult.debug) {\r\n        params.debug = true;\r\n        params.session_transmitted = requestIdOrResult.debug.session_id ? 'yes' : 'no';\r\n      }\r\n    } else {\r\n      console.error('emailClientSenderUrlWithSession: paramÃ¨tre invalide', requestIdOrResult);\r\n      return this.backendUrl('email_client_sender.php');\r\n    }\r\n    \r\n    if (!requestId) {\r\n      console.error('emailClientSenderUrlWithSession: requestId manquant');\r\n      return this.backendUrl('email_client_sender.php');\r\n    }\r\n    \r\n    params.request_id = requestId;\r\n    return this.backendUrl('email_client_sender.php', params);\r\n  }\r\n\r\n  emailClientSenderUrl(requestId, additionalParams = {}) {\r\n    return this.emailClientSenderUrlWithSession(requestId, additionalParams);\r\n  }\r\n\r\n  apiUrl(endpoint, params = {}) {\r\n    return this.backendUrl(`api/${endpoint}`, params);\r\n  }\r\n\r\n  // ðŸ”§ AJOUT DE LA MÃ‰THODE MANQUANTE\r\n  facturesUrl(filename) {\r\n    log('facturesUrl', 'Construction URL facture pour:', filename);\r\n    \r\n    if (!filename) {\r\n      console.warn('âš ï¸ facturesUrl: filename manquant');\r\n      return this.backendUrl('storage/factures/');\r\n    }\r\n    \r\n    // Encoder le nom de fichier pour gÃ©rer les caractÃ¨res spÃ©ciaux\r\n    const encodedFilename = encodeURIComponent(filename);\r\n    const factureUrl = this.backendUrl(`storage/factures/${encodedFilename}`);\r\n    \r\n    log('facturesUrl', 'URL facture construite:', factureUrl);\r\n    return factureUrl;\r\n  }\r\n\r\n  static setLogging(enabled, methods = null) {\r\n    LOG_CONFIG.enabled = enabled;\r\n    if (methods && Array.isArray(methods)) {\r\n      Object.keys(LOG_CONFIG.methods).forEach(method => {\r\n        LOG_CONFIG.methods[method] = false;\r\n      });\r\n      methods.forEach(method => {\r\n        if (LOG_CONFIG.methods.hasOwnProperty(method)) {\r\n          LOG_CONFIG.methods[method] = true;\r\n        }\r\n      });\r\n    } else if (methods === null) {\r\n      Object.keys(LOG_CONFIG.methods).forEach(method => {\r\n        LOG_CONFIG.methods[method] = enabled;\r\n      });\r\n    }\r\n    \r\n    console.log('ðŸ”— UrlHelper - Configuration des logs mise Ã  jour:', LOG_CONFIG);\r\n  }\r\n\r\n  getDebugInfo() {\r\n    return {\r\n      currentUrl: this.currentUrl.href,\r\n      protocol: this.protocol,\r\n      host: this.host,\r\n      appBasePath: this.appBasePath,\r\n      backendBaseUrl: this.getBackendBaseUrl(),\r\n      backendConfig: this.backendConfig,\r\n      envVars: {\r\n        NODE_ENV: getEnvVar('NODE_ENV'),\r\n        REACT_APP_BACKEND_URL: getEnvVar('REACT_APP_BACKEND_URL'),\r\n        REACT_APP_API_BASE_URL: getEnvVar('REACT_APP_API_BASE_URL'),\r\n        REACT_APP_DEBUG_URLS: getEnvVar('REACT_APP_DEBUG_URLS')\r\n      },\r\n      logConfig: LOG_CONFIG\r\n    };\r\n  }\r\n}\r\n\r\n// CrÃ©er une instance singleton\r\nlog('exports', 'CrÃ©ation de l\\'instance singleton');\r\nconst urlHelper = new UrlHelper();\r\nlog('exports', 'Instance singleton crÃ©Ã©e');\r\n\r\n// Exports\r\nexport const appUrl = (path) => {\r\n  const result = urlHelper.appUrl(path);\r\n  return result;\r\n};\r\n\r\nexport const backendUrl = (path, params) => {\r\n  // Encoder automatiquement les segments de chemin problÃ©matiques\r\n  if (path) {\r\n    const parts = path.split('/');\r\n    const encodedParts = parts.map((part, index) => {\r\n      // Ne pas encoder les premiers segments (dossiers API standards)\r\n      if (index === 0 && (part === 'api' || part === 'storage')) {\r\n        return part;\r\n      }\r\n      \r\n      // Encoder les noms de fichiers et tout contenu non-ASCII\r\n      if (part.includes('.') || /[^\\x00-\\x7F]/.test(part) || part.includes(' ')) {\r\n        return encodeURIComponent(part);\r\n      }\r\n      \r\n      return part;\r\n    });\r\n    path = encodedParts.join('/');\r\n  }\r\n  \r\n  const result = urlHelper.backendUrl(path, params);\r\n  return result;\r\n};\r\n\r\nexport const facturesUrl = (filename) => {\r\n  const result = urlHelper.facturesUrl(filename);\r\n  return result;\r\n};\r\n\r\nexport const emailClientSenderUrl = (requestId, params) => {\r\n  const result = urlHelper.emailClientSenderUrl(requestId, params);\r\n  return result;\r\n};\r\n\r\nexport const emailClientSenderUrlWithSession = (requestIdOrResult, params) => {\r\n  const result = urlHelper.emailClientSenderUrlWithSession(requestIdOrResult, params);\r\n  return result;\r\n};\r\n\r\nexport const apiUrl = (endpoint, params) => {\r\n  const result = urlHelper.apiUrl(endpoint, params);\r\n  return result;\r\n};\r\n\r\nexport const setUrlLogging = (enabled, methods = null) => {\r\n  UrlHelper.setLogging(enabled, methods);\r\n};\r\n\r\nexport const configureUrlHelperForEnvironment = () => {\r\n  const isDevelopment = getEnvVar('NODE_ENV') === 'development';\r\n  const isLocalhost = window.location.hostname === 'localhost' || \r\n                     window.location.hostname === '127.0.0.1';\r\n  const debugUrlsEnv = getEnvVar('REACT_APP_DEBUG_URLS');\r\n  \r\n  if (debugUrlsEnv !== undefined) {\r\n    const enableLogs = debugUrlsEnv === 'true';\r\n    setUrlLogging(enableLogs);\r\n    console.log(`ðŸ”— UrlHelper configurÃ© selon REACT_APP_DEBUG_URLS=${debugUrlsEnv} -> logs=${enableLogs}`);\r\n  } else {\r\n    if (isDevelopment || isLocalhost) {\r\n      setUrlLogging(true);\r\n      console.log('ðŸ”— UrlHelper configurÃ© en mode dÃ©veloppement avec logs dÃ©taillÃ©s');\r\n    } else {\r\n      setUrlLogging(false);\r\n      console.log('ðŸ”— UrlHelper configurÃ© en mode production sans logs');\r\n    }\r\n  }\r\n};\r\n\r\nexport { UrlHelper };\r\nexport default urlHelper;"],"mappings":";;;;;;AAAA;;AAEA;AACA,MAAMA,SAAS,GAAIC,OAAO,IAAK;EAC7BC,OAAO,CAACC,GAAG,CAAC,4DAA4DF,OAAO,EAAE,CAAC;;EAElF;EACA,MAAMG,KAAK,GAAGC,OAAO,CAACC,GAAG,CAACL,OAAO,CAAC;EAElC,IAAIG,KAAK,KAAKG,SAAS,EAAE;IACvBL,OAAO,CAACC,GAAG,CAAC,kBAAkBF,OAAO,UAAU,EAAEG,KAAK,CAAC;IACvD,OAAOA,KAAK;EACd;EAEAF,OAAO,CAACC,GAAG,CAAC,kBAAkBF,OAAO,aAAa,CAAC;EACnD,OAAOM,SAAS;AAClB,CAAC;;AAGD;AACA,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;EAChC,MAAMC,aAAa,GAAGT,SAAS,CAAC,UAAU,CAAC,KAAK,aAAa;EAC7D,MAAMU,YAAY,GAAGV,SAAS,CAAC,sBAAsB,CAAC;EAEtD,IAAIW,OAAO,GAAG,KAAK;EAEnB,IAAID,YAAY,KAAKH,SAAS,EAAE;IAC9BI,OAAO,GAAGD,YAAY,KAAK,MAAM;IACjCR,OAAO,CAACC,GAAG,CAAC,gEAAgE,EAAEQ,OAAO,CAAC;EACxF,CAAC,MAAM;IACLA,OAAO,GAAGF,aAAa;IACvBP,OAAO,CAACC,GAAG,CAAC,kEAAkE,EAAEQ,OAAO,CAAC;EAC1F;EAEA,OAAO;IACLA,OAAO;IACPC,MAAM,EAAE,cAAc;IACtBC,OAAO,EAAE;MACPC,WAAW,EAAE,IAAI;MACjBC,mBAAmB,EAAE,IAAI;MACzBC,iBAAiB,EAAE,IAAI;MACvBC,UAAU,EAAE,IAAI;MAChBC,OAAO,EAAE;IACX;EACF,CAAC;AACH,CAAC;AAED,MAAMC,UAAU,GAAGX,mBAAmB,CAAC,CAAC;AAExC,MAAML,GAAG,GAAGA,CAACiB,MAAM,EAAE,GAAGC,IAAI,KAAK;EAC/B,IAAIF,UAAU,CAACR,OAAO,IAAIQ,UAAU,CAACN,OAAO,CAACO,MAAM,CAAC,EAAE;IACpDlB,OAAO,CAACC,GAAG,CAAC,GAAGgB,UAAU,CAACP,MAAM,IAAIQ,MAAM,IAAI,EAAE,GAAGC,IAAI,CAAC;EAC1D;AACF,CAAC;AAED,MAAMC,SAAS,CAAC;EACdR,WAAWA,CAAA,EAAG;IACZX,GAAG,CAAC,aAAa,EAAE,gBAAgB,CAAC;IAEpC,IAAI,CAACoB,UAAU,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;IAC/C,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACL,UAAU,CAACK,QAAQ;IACxC,IAAI,CAACC,IAAI,GAAG,IAAI,CAACN,UAAU,CAACM,IAAI;IAEhC1B,GAAG,CAAC,aAAa,EAAE,eAAe,EAAE,IAAI,CAACoB,UAAU,CAACI,IAAI,CAAC;IACzDxB,GAAG,CAAC,aAAa,EAAE,oBAAoB,EAAE,IAAI,CAACyB,QAAQ,CAAC;IACvDzB,GAAG,CAAC,aAAa,EAAE,eAAe,EAAE,IAAI,CAAC0B,IAAI,CAAC;;IAE9C;IACA,IAAI,CAACC,aAAa,GAAG,IAAI,CAACf,mBAAmB,CAAC,CAAC;IAE/CZ,GAAG,CAAC,aAAa,EAAE,+BAA+B,EAAE,IAAI,CAAC2B,aAAa,CAAC;IAEvE,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC;IAE3C7B,GAAG,CAAC,aAAa,EAAE,yBAAyB,CAAC;EAC/C;EAEAY,mBAAmBA,CAAA,EAAG;IACpBZ,GAAG,CAAC,qBAAqB,EAAE,uCAAuC,CAAC;;IAEnE;IACAD,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IAChDD,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,OAAOE,OAAO,KAAK,WAAW,CAAC;IACpEH,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAE,OAAOE,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,GAAG,CAAC;;IAEvF;IACA,IAAI;MACA;MACAJ,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAE,OAAO8B,qBAAqB,KAAK,WAAW,GAAGA,qBAAqB,GAAG,WAAW,CAAC;IACvI,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRhC,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAE+B,CAAC,CAACC,OAAO,CAAC;IAC7D;IAEA,IAAI;MACA;MACAjC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAE,OAAOiC,sBAAsB,KAAK,WAAW,GAAGA,sBAAsB,GAAG,WAAW,CAAC;IAC1I,CAAC,CAAC,OAAOF,CAAC,EAAE;MACRhC,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAE+B,CAAC,CAACC,OAAO,CAAC;IAC9D;IAEA,IAAI,OAAO9B,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,GAAG,EAAE;MAC/CJ,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEE,OAAO,CAACC,GAAG,CAAC2B,qBAAqB,CAAC;MACvF/B,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAEE,OAAO,CAACC,GAAG,CAAC8B,sBAAsB,CAAC;IAC7F;IACA;;IAEA;IACA,MAAMC,aAAa,GAAGrC,SAAS,CAAC,uBAAuB,CAAC;IACxD,MAAMS,aAAa,GAAGT,SAAS,CAAC,UAAU,CAAC,KAAK,aAAa;IAC7D,MAAMsC,WAAW,GAAG,IAAI,CAACT,IAAI,CAACU,QAAQ,CAAC,WAAW,CAAC,IAAI,IAAI,CAACV,IAAI,CAACU,QAAQ,CAAC,WAAW,CAAC;IAEtFpC,GAAG,CAAC,qBAAqB,EAAE,sBAAsB,EAAE;MACjDkC,aAAa;MACb5B,aAAa;MACb6B,WAAW;MACXT,IAAI,EAAE,IAAI,CAACA;IACb,CAAC,CAAC;;IAEF;IACA,IAAIQ,aAAa,EAAE;MACjBnC,OAAO,CAACC,GAAG,CAAC,sEAAsE,EAAEkC,aAAa,CAAC;MAClG,IAAI;QACF,MAAMpB,UAAU,GAAG,IAAIO,GAAG,CAACa,aAAa,CAAC;QACzC,MAAMG,MAAM,GAAG;UACbZ,QAAQ,EAAEX,UAAU,CAACW,QAAQ,CAACa,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;UAC9CZ,IAAI,EAAEZ,UAAU,CAACY,IAAI;UACrBa,QAAQ,EAAEzB,UAAU,CAAC0B,QAAQ,CAACF,OAAO,CAAC,KAAK,EAAE,EAAE;QACjD,CAAC;QAEDvC,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEqC,MAAM,CAAC;QAC5D,OAAOA,MAAM;MACf,CAAC,CAAC,OAAOI,KAAK,EAAE;QACd1C,OAAO,CAAC0C,KAAK,CAAC,qDAAqD,EAAEP,aAAa,EAAEO,KAAK,CAAC;MAC5F;IACF;;IAEA;IACA,MAAMC,UAAU,GAAG7C,SAAS,CAAC,wBAAwB,CAAC;IACtD,IAAI6C,UAAU,EAAE;MACd3C,OAAO,CAACC,GAAG,CAAC,yFAAyF,EAAE0C,UAAU,CAAC;MAClH,IAAI;QACF,MAAMC,MAAM,GAAG,IAAItB,GAAG,CAACqB,UAAU,CAAC;QAClC;QACA,IAAIH,QAAQ,GAAGI,MAAM,CAACH,QAAQ,CAACF,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;QAEvD,MAAMD,MAAM,GAAG;UACbZ,QAAQ,EAAEkB,MAAM,CAAClB,QAAQ,CAACa,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;UAC1CZ,IAAI,EAAEiB,MAAM,CAACjB,IAAI;UACjBa,QAAQ,EAAEA;QACZ,CAAC;QAEDxC,OAAO,CAACC,GAAG,CAAC,iEAAiE,EAAEqC,MAAM,CAAC;QACtF,OAAOA,MAAM;MACf,CAAC,CAAC,OAAOI,KAAK,EAAE;QACd1C,OAAO,CAAC0C,KAAK,CAAC,sDAAsD,EAAEC,UAAU,EAAED,KAAK,CAAC;MAC1F;IACF;;IAEA;IACA1C,OAAO,CAAC6C,IAAI,CAAC,gEAAgE,CAAC;IAE9E,IAAItC,aAAa,IAAI6B,WAAW,EAAE;MAChCpC,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;MACrD,OAAO;QACLyB,QAAQ,EAAE,OAAO;QACjBC,IAAI,EAAE,WAAW;QACjBa,QAAQ,EAAE;MACZ,CAAC;IACH,CAAC,MAAM;MACLxC,OAAO,CAACC,GAAG,CAAC,wCAAwC,CAAC;MACrD,MAAM6C,WAAW,GAAG,IAAI,CAACnB,IAAI;MAC7B,MAAMoB,eAAe,GAAG,IAAI,CAACrB,QAAQ,CAACa,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;MAEtD,OAAO;QACLb,QAAQ,EAAEqB,eAAe;QACzBpB,IAAI,EAAEmB,WAAW;QACjBN,QAAQ,EAAE;MACZ,CAAC;IACH;EACF;EAEAV,iBAAiBA,CAAA,EAAG;IAClB,MAAMkB,WAAW,GAAGlD,SAAS,CAAC,qBAAqB,CAAC;IACpD,IAAIkD,WAAW,EAAE;MACf,OAAOA,WAAW;IACpB;IAEA,MAAMP,QAAQ,GAAG,IAAI,CAACpB,UAAU,CAACoB,QAAQ;IACzC,MAAMQ,SAAS,GAAGR,QAAQ,CAACS,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;IAErE,IAAIJ,SAAS,CAACI,MAAM,GAAG,CAAC,IAAIJ,SAAS,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;MACrD,OAAO,GAAG,GAAGA,SAAS,CAAC,CAAC,CAAC;IAC3B;IAEA,OAAO,EAAE;EACX;EAEAnC,iBAAiBA,CAAA,EAAG;IAClBb,GAAG,CAAC,mBAAmB,EAAE,gCAAgC,CAAC;IAC1DA,GAAG,CAAC,mBAAmB,EAAE,wBAAwB,EAAE,IAAI,CAAC2B,aAAa,CAAC;IAEtE,MAAM;MAAEF,QAAQ;MAAEC,IAAI;MAAEa;IAAS,CAAC,GAAG,IAAI,CAACZ,aAAa;IACvD,MAAM0B,cAAc,GAAG,GAAG5B,QAAQ,MAAMC,IAAI,GAAGa,QAAQ,EAAE;IAEzDvC,GAAG,CAAC,mBAAmB,EAAE,qBAAqB,EAAEqD,cAAc,CAAC;IAE/D,OAAOA,cAAc;EACvB;EAEAC,MAAMA,CAACC,IAAI,GAAG,EAAE,EAAE;IAChB,IAAIA,IAAI,IAAI,CAACA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;MACjCD,IAAI,GAAG,GAAG,GAAGA,IAAI;IACnB;IAEA,OAAO,GAAG,IAAI,CAAC9B,QAAQ,KAAK,IAAI,CAACC,IAAI,GAAG,IAAI,CAACE,WAAW,GAAG2B,IAAI,EAAE;EACnE;EAEAzC,UAAUA,CAACyC,IAAI,GAAG,EAAE,EAAEE,MAAM,GAAG,CAAC,CAAC,EAAE;IACjC1D,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEuD,IAAI,CAAC;IAChDxD,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEyD,MAAM,CAAC;IACpD1D,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEuD,IAAI,CAACnB,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC1DpC,GAAG,CAAC,YAAY,EAAE,sCAAsC,CAAC;IACzDA,GAAG,CAAC,YAAY,EAAE,0BAA0B,CAAC;IAC7CA,GAAG,CAAC,YAAY,EAAE,iBAAiB,EAAEuD,IAAI,CAAC;IAC1CvD,GAAG,CAAC,YAAY,EAAE,aAAa,EAAEyD,MAAM,CAAC;;IAExC;IACA1D,OAAO,CAACC,GAAG,CAAC,mDAAmD,CAAC;IAChED,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,OAAOE,OAAO,KAAK,WAAW,CAAC;IACpEH,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAE,OAAOE,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,GAAG,CAAC;;IAEvF;IACA,IAAI;MACA;MACAJ,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAE,OAAO8B,qBAAqB,KAAK,WAAW,GAAGA,qBAAqB,GAAG,WAAW,CAAC;IACvI,CAAC,CAAC,OAAOC,CAAC,EAAE;MACRhC,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAE+B,CAAC,CAACC,OAAO,CAAC;IAC7D;IAEA,IAAI;MACA;MACAjC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAE,OAAOiC,sBAAsB,KAAK,WAAW,GAAGA,sBAAsB,GAAG,WAAW,CAAC;IAC1I,CAAC,CAAC,OAAOF,CAAC,EAAE;MACRhC,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAE+B,CAAC,CAACC,OAAO,CAAC;IAC9D;IAEA,IAAI,OAAO9B,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,GAAG,EAAE;MAC/CJ,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEE,OAAO,CAACC,GAAG,CAAC2B,qBAAqB,CAAC;MACvF/B,OAAO,CAACC,GAAG,CAAC,wCAAwC,EAAEE,OAAO,CAACC,GAAG,CAAC8B,sBAAsB,CAAC;IAC7F;;IAEA;IACAlC,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAEH,SAAS,CAAC,uBAAuB,CAAC,CAAC;IACvFE,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEH,SAAS,CAAC,wBAAwB,CAAC,CAAC;IAEzFE,OAAO,CAACC,GAAG,CAAC,oCAAoC,EAAE,IAAI,CAAC2B,aAAa,CAAC;IACrE;;IAEA,IAAI4B,IAAI,IAAI,CAACA,IAAI,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;MACjCD,IAAI,GAAG,GAAG,GAAGA,IAAI;MACjBvD,GAAG,CAAC,YAAY,EAAE,qBAAqB,EAAEuD,IAAI,CAAC;IAChD;IAEA,MAAMG,OAAO,GAAG,IAAI,CAAC7C,iBAAiB,CAAC,CAAC,GAAG0C,IAAI;IAC/CvD,GAAG,CAAC,YAAY,EAAE,yBAAyB,EAAE0D,OAAO,CAAC;IAErD,IAAIC,MAAM,CAACC,IAAI,CAACH,MAAM,CAAC,CAACL,MAAM,GAAG,CAAC,EAAE;MAClC,MAAMS,WAAW,GAAG,IAAIC,eAAe,CAACL,MAAM,CAAC,CAACM,QAAQ,CAAC,CAAC;MAC1DhE,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAE6D,WAAW,CAAC;MACrD7D,GAAG,CAAC,YAAY,EAAE,0BAA0B,EAAE6D,WAAW,CAAC;MAC1D,MAAMG,QAAQ,GAAG,GAAGN,OAAO,IAAIG,WAAW,EAAE;MAC5C9D,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEgE,QAAQ,CAAC;MACnDjE,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEgE,QAAQ,CAAC5B,QAAQ,CAAC,KAAK,CAAC,CAAC;MAClEpC,GAAG,CAAC,YAAY,EAAE,6BAA6B,EAAEgE,QAAQ,CAAC;MAC1D,OAAOA,QAAQ;IACjB;IAEAjE,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE0D,OAAO,CAAC;IAClD1D,GAAG,CAAC,YAAY,EAAE,6BAA6B,EAAE0D,OAAO,CAAC;IACzD,OAAOA,OAAO;EAChB;EAEAO,+BAA+BA,CAACC,iBAAiB,EAAEC,gBAAgB,GAAG,CAAC,CAAC,EAAE;IACxEpE,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAAEkE,iBAAiB,CAAC;IAC3E,IAAI,OAAOA,iBAAiB,KAAK,QAAQ,IAAIA,iBAAiB,CAACE,YAAY,EAAE;MAC3ErE,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEkE,iBAAiB,CAACE,YAAY,CAAC;MACxE,IAAIF,iBAAiB,CAACE,YAAY,CAACZ,UAAU,CAAC,MAAM,CAAC,EAAE;QACnD,OAAOU,iBAAiB,CAACE,YAAY;MACzC;MAEE,MAAMC,WAAW,GAAG,IAAI,CAACxD,iBAAiB,CAAC,CAAC,GAAG,GAAG,GAAGqD,iBAAiB,CAACE,YAAY,CAAC9B,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MACtGvC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEqE,WAAW,CAAC;MAC9CtE,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEqE,WAAW,CAACjC,QAAQ,CAAC,KAAK,CAAC,CAAC;MAC5D,OAAOiC,WAAW;IACtB;IAEA,IAAIC,SAAS;IACb,IAAIb,MAAM,GAAG;MAAE,GAAGU;IAAiB,CAAC;IAEpC,IAAI,OAAOD,iBAAiB,KAAK,QAAQ,EAAE;MACzCI,SAAS,GAAGJ,iBAAiB;IAC/B,CAAC,MAAM,IAAI,OAAOA,iBAAiB,KAAK,QAAQ,IAAIA,iBAAiB,CAACI,SAAS,EAAE;MAC/EA,SAAS,GAAGJ,iBAAiB,CAACI,SAAS;MACvC,IAAIJ,iBAAiB,CAACK,KAAK,EAAE;QAC3Bd,MAAM,CAACc,KAAK,GAAG,IAAI;QACnBd,MAAM,CAACe,mBAAmB,GAAGN,iBAAiB,CAACK,KAAK,CAACE,UAAU,GAAG,KAAK,GAAG,IAAI;MAChF;IACF,CAAC,MAAM;MACL1E,OAAO,CAAC0C,KAAK,CAAC,qDAAqD,EAAEyB,iBAAiB,CAAC;MACvF,OAAO,IAAI,CAACpD,UAAU,CAAC,yBAAyB,CAAC;IACnD;IAEA,IAAI,CAACwD,SAAS,EAAE;MACdvE,OAAO,CAAC0C,KAAK,CAAC,qDAAqD,CAAC;MACpE,OAAO,IAAI,CAAC3B,UAAU,CAAC,yBAAyB,CAAC;IACnD;IAEA2C,MAAM,CAACiB,UAAU,GAAGJ,SAAS;IAC7B,OAAO,IAAI,CAACxD,UAAU,CAAC,yBAAyB,EAAE2C,MAAM,CAAC;EAC3D;EAEAkB,oBAAoBA,CAACL,SAAS,EAAEH,gBAAgB,GAAG,CAAC,CAAC,EAAE;IACrD,OAAO,IAAI,CAACF,+BAA+B,CAACK,SAAS,EAAEH,gBAAgB,CAAC;EAC1E;EAEAxB,MAAMA,CAACiC,QAAQ,EAAEnB,MAAM,GAAG,CAAC,CAAC,EAAE;IAC5B,OAAO,IAAI,CAAC3C,UAAU,CAAC,OAAO8D,QAAQ,EAAE,EAAEnB,MAAM,CAAC;EACnD;;EAEA;EACAoB,WAAWA,CAACC,QAAQ,EAAE;IACpB9E,GAAG,CAAC,aAAa,EAAE,gCAAgC,EAAE8E,QAAQ,CAAC;IAE9D,IAAI,CAACA,QAAQ,EAAE;MACb/E,OAAO,CAAC6C,IAAI,CAAC,mCAAmC,CAAC;MACjD,OAAO,IAAI,CAAC9B,UAAU,CAAC,mBAAmB,CAAC;IAC7C;;IAEA;IACA,MAAMiE,eAAe,GAAGC,kBAAkB,CAACF,QAAQ,CAAC;IACpD,MAAMG,UAAU,GAAG,IAAI,CAACnE,UAAU,CAAC,oBAAoBiE,eAAe,EAAE,CAAC;IAEzE/E,GAAG,CAAC,aAAa,EAAE,yBAAyB,EAAEiF,UAAU,CAAC;IACzD,OAAOA,UAAU;EACnB;EAEA,OAAOC,UAAUA,CAAC1E,OAAO,EAAEE,OAAO,GAAG,IAAI,EAAE;IACzCM,UAAU,CAACR,OAAO,GAAGA,OAAO;IAC5B,IAAIE,OAAO,IAAIyE,KAAK,CAACC,OAAO,CAAC1E,OAAO,CAAC,EAAE;MACrCiD,MAAM,CAACC,IAAI,CAAC5C,UAAU,CAACN,OAAO,CAAC,CAAC2E,OAAO,CAACpE,MAAM,IAAI;QAChDD,UAAU,CAACN,OAAO,CAACO,MAAM,CAAC,GAAG,KAAK;MACpC,CAAC,CAAC;MACFP,OAAO,CAAC2E,OAAO,CAACpE,MAAM,IAAI;QACxB,IAAID,UAAU,CAACN,OAAO,CAAC4E,cAAc,CAACrE,MAAM,CAAC,EAAE;UAC7CD,UAAU,CAACN,OAAO,CAACO,MAAM,CAAC,GAAG,IAAI;QACnC;MACF,CAAC,CAAC;IACJ,CAAC,MAAM,IAAIP,OAAO,KAAK,IAAI,EAAE;MAC3BiD,MAAM,CAACC,IAAI,CAAC5C,UAAU,CAACN,OAAO,CAAC,CAAC2E,OAAO,CAACpE,MAAM,IAAI;QAChDD,UAAU,CAACN,OAAO,CAACO,MAAM,CAAC,GAAGT,OAAO;MACtC,CAAC,CAAC;IACJ;IAEAT,OAAO,CAACC,GAAG,CAAC,oDAAoD,EAAEgB,UAAU,CAAC;EAC/E;EAEAuE,YAAYA,CAAA,EAAG;IACb,OAAO;MACLnE,UAAU,EAAE,IAAI,CAACA,UAAU,CAACI,IAAI;MAChCC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,IAAI,EAAE,IAAI,CAACA,IAAI;MACfE,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7ByB,cAAc,EAAE,IAAI,CAACxC,iBAAiB,CAAC,CAAC;MACxCc,aAAa,EAAE,IAAI,CAACA,aAAa;MACjC6D,OAAO,EAAE;QACPC,QAAQ,EAAE5F,SAAS,CAAC,UAAU,CAAC;QAC/BiC,qBAAqB,EAAEjC,SAAS,CAAC,uBAAuB,CAAC;QACzDoC,sBAAsB,EAAEpC,SAAS,CAAC,wBAAwB,CAAC;QAC3D6F,oBAAoB,EAAE7F,SAAS,CAAC,sBAAsB;MACxD,CAAC;MACD8F,SAAS,EAAE3E;IACb,CAAC;EACH;AACF;;AAEA;AAAAD,OAAA,CAAAI,SAAA,GAAAA,SAAA;AACAnB,GAAG,CAAC,SAAS,EAAE,mCAAmC,CAAC;AACnD,MAAM4F,SAAS,GAAG,IAAIzE,SAAS,CAAC,CAAC;AACjCnB,GAAG,CAAC,SAAS,EAAE,0BAA0B,CAAC;;AAE1C;AACO,MAAMsD,MAAM,GAAIC,IAAI,IAAK;EAC9B,MAAMsC,MAAM,GAAGD,SAAS,CAACtC,MAAM,CAACC,IAAI,CAAC;EACrC,OAAOsC,MAAM;AACf,CAAC;AAAC9E,OAAA,CAAAuC,MAAA,GAAAA,MAAA;AAEK,MAAMxC,UAAU,GAAGA,CAACyC,IAAI,EAAEE,MAAM,KAAK;EAC1C;EACA,IAAIF,IAAI,EAAE;IACR,MAAMuC,KAAK,GAAGvC,IAAI,CAACN,KAAK,CAAC,GAAG,CAAC;IAC7B,MAAM8C,YAAY,GAAGD,KAAK,CAACE,GAAG,CAAC,CAAC7C,IAAI,EAAE8C,KAAK,KAAK;MAC9C;MACA,IAAIA,KAAK,KAAK,CAAC,KAAK9C,IAAI,KAAK,KAAK,IAAIA,IAAI,KAAK,SAAS,CAAC,EAAE;QACzD,OAAOA,IAAI;MACb;;MAEA;MACA,IAAIA,IAAI,CAACf,QAAQ,CAAC,GAAG,CAAC,IAAI,cAAc,CAAC8D,IAAI,CAAC/C,IAAI,CAAC,IAAIA,IAAI,CAACf,QAAQ,CAAC,GAAG,CAAC,EAAE;QACzE,OAAO4C,kBAAkB,CAAC7B,IAAI,CAAC;MACjC;MAEA,OAAOA,IAAI;IACb,CAAC,CAAC;IACFI,IAAI,GAAGwC,YAAY,CAACI,IAAI,CAAC,GAAG,CAAC;EAC/B;EAEA,MAAMN,MAAM,GAAGD,SAAS,CAAC9E,UAAU,CAACyC,IAAI,EAAEE,MAAM,CAAC;EACjD,OAAOoC,MAAM;AACf,CAAC;AAAC9E,OAAA,CAAAD,UAAA,GAAAA,UAAA;AAEK,MAAM+D,WAAW,GAAIC,QAAQ,IAAK;EACvC,MAAMe,MAAM,GAAGD,SAAS,CAACf,WAAW,CAACC,QAAQ,CAAC;EAC9C,OAAOe,MAAM;AACf,CAAC;AAAC9E,OAAA,CAAA8D,WAAA,GAAAA,WAAA;AAEK,MAAMF,oBAAoB,GAAGA,CAACL,SAAS,EAAEb,MAAM,KAAK;EACzD,MAAMoC,MAAM,GAAGD,SAAS,CAACjB,oBAAoB,CAACL,SAAS,EAAEb,MAAM,CAAC;EAChE,OAAOoC,MAAM;AACf,CAAC;AAAC9E,OAAA,CAAA4D,oBAAA,GAAAA,oBAAA;AAEK,MAAMV,+BAA+B,GAAGA,CAACC,iBAAiB,EAAET,MAAM,KAAK;EAC5E,MAAMoC,MAAM,GAAGD,SAAS,CAAC3B,+BAA+B,CAACC,iBAAiB,EAAET,MAAM,CAAC;EACnF,OAAOoC,MAAM;AACf,CAAC;AAAC9E,OAAA,CAAAkD,+BAAA,GAAAA,+BAAA;AAEK,MAAMtB,MAAM,GAAGA,CAACiC,QAAQ,EAAEnB,MAAM,KAAK;EAC1C,MAAMoC,MAAM,GAAGD,SAAS,CAACjD,MAAM,CAACiC,QAAQ,EAAEnB,MAAM,CAAC;EACjD,OAAOoC,MAAM;AACf,CAAC;AAAC9E,OAAA,CAAA4B,MAAA,GAAAA,MAAA;AAEK,MAAMyD,aAAa,GAAGA,CAAC5F,OAAO,EAAEE,OAAO,GAAG,IAAI,KAAK;EACxDS,SAAS,CAAC+D,UAAU,CAAC1E,OAAO,EAAEE,OAAO,CAAC;AACxC,CAAC;AAACK,OAAA,CAAAqF,aAAA,GAAAA,aAAA;AAEK,MAAMC,gCAAgC,GAAGA,CAAA,KAAM;EACpD,MAAM/F,aAAa,GAAGT,SAAS,CAAC,UAAU,CAAC,KAAK,aAAa;EAC7D,MAAMsC,WAAW,GAAGb,MAAM,CAACC,QAAQ,CAAC+E,QAAQ,KAAK,WAAW,IACzChF,MAAM,CAACC,QAAQ,CAAC+E,QAAQ,KAAK,WAAW;EAC3D,MAAM/F,YAAY,GAAGV,SAAS,CAAC,sBAAsB,CAAC;EAEtD,IAAIU,YAAY,KAAKH,SAAS,EAAE;IAC9B,MAAMmG,UAAU,GAAGhG,YAAY,KAAK,MAAM;IAC1C6F,aAAa,CAACG,UAAU,CAAC;IACzBxG,OAAO,CAACC,GAAG,CAAC,qDAAqDO,YAAY,YAAYgG,UAAU,EAAE,CAAC;EACxG,CAAC,MAAM;IACL,IAAIjG,aAAa,IAAI6B,WAAW,EAAE;MAChCiE,aAAa,CAAC,IAAI,CAAC;MACnBrG,OAAO,CAACC,GAAG,CAAC,kEAAkE,CAAC;IACjF,CAAC,MAAM;MACLoG,aAAa,CAAC,KAAK,CAAC;MACpBrG,OAAO,CAACC,GAAG,CAAC,qDAAqD,CAAC;IACpE;EACF;AACF,CAAC;AAACe,OAAA,CAAAsF,gCAAA,GAAAA,gCAAA;AAAA,IAAAG,QAAA,GAAAzF,OAAA,CAAA0F,OAAA,GAGab,SAAS","ignoreList":[]}