{"version":3,"names":["_react","_interopRequireWildcard","require","_reactRouterDom","_NotificationService","_DateContext","_authService","_interopRequireDefault","_FacturationPage","_LoginPage","_ForgotPassword","_ResetPassword","_LoadingSpinner","_SessionAlert","_Header","_GlobalDatePicker","_useGlobalNavigationGuard","_urlHelper","_createLogger","_fieldMappings","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","log","createLogger","debug","NavigationGuardContext","React","createContext","NavigationGuardProvider","children","globalGuard","useGlobalNavigationGuard","createElement","Provider","value","useNavigationGuard","context","useContext","Error","exports","App","authenticated","setAuthenticated","useState","loading","setLoading","user","setUser","useEffect","initializeFieldMappings","error","configureUrlHelperForEnvironment","process","env","NODE_ENV","REACT_APP_DEBUG_URLS","setUrlLogging","checkAuthentication","authService","isAuthenticated","currentUser","getCurrentUser","authData","checkAuth","success","logout","checkError","handleAuthExpired","localStorage","removeItem","window","addEventListener","removeEventListener","ProtectedHeader","interceptNavigation","handleLogout","appName","appVersion","onLogout","refreshSession","newSessionExpiry","prev","sessionExpire","handleLogin","username","password","result","login","Promise","resolve","setTimeout","location","hash","message","userContext","appConfig","AuthenticatedLayout","onRefresh","className","Outlet","style","position","top","right","background","REACT_APP_API_BASE_URL","color","padding","fontSize","zIndex","borderBottomLeftRadius","PublicLayout","Fragment","router","createHashRouter","path","element","onLogin","Navigate","to","replace","index","initialSection","NotificationProvider","DateProvider","RouterProvider","_default"],"sources":["App.js"],"sourcesContent":["// src/App.jsx - VERSION CORRIG√âE\n/**\n * Application principale avec routage\n * ‚úÖ Utilise checkAuth() et isAuthenticated() au lieu de verifyToken()\n * ‚úÖ R√©cup√®re les param√®tres correctement de la LoginPage\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { createHashRouter, RouterProvider, Navigate, Outlet } from 'react-router-dom';\nimport { NotificationProvider } from './services/NotificationService';\nimport { DateProvider } from './context/DateContext';\nimport authService from './services/authService';\nimport FacturationPage from './FacturationPage';\nimport LoginPage from './components/LoginPage';\nimport ForgotPassword from './components/ForgotPassword';\nimport ResetPassword from './components/ResetPassword';\nimport LoadingSpinner from './components/LoadingSpinner';\nimport SessionAlert from './components/SessionAlert';\nimport Header from './components/Header';\nimport GlobalDatePicker from './context/GlobalDatePicker';\nimport { useGlobalNavigationGuard } from './hooks/useGlobalNavigationGuard';\nimport './styles/components/users/GestionUtilisateurs.css';\nimport {\n  configureUrlHelperForEnvironment,\n  setUrlLogging\n} from './utils/urlHelper';\nimport { createLogger } from './utils/createLogger';\n\n// ‚úÖ IMPORT pour l'initialisation des field mappings\nimport { initializeFieldMappings } from './constants/fieldMappings';\n\nconst log = createLogger('App');\n\nlog.debug('üöÄ Application React d√©marr√©e avec protection navigation globale');\n\n// Contexte pour partager le guard global\nconst NavigationGuardContext = React.createContext();\n\n// Provider pour le guard global\nconst NavigationGuardProvider = ({ children }) => {\n  const globalGuard = useGlobalNavigationGuard();\n  \n  return (\n    <NavigationGuardContext.Provider value={globalGuard}>\n      {children}\n    </NavigationGuardContext.Provider>\n  );\n};\n\n// Hook pour acc√©der au guard global\nexport const useNavigationGuard = () => {\n  const context = React.useContext(NavigationGuardContext);\n  if (!context) {\n    throw new Error('useNavigationGuard doit √™tre utilis√© dans NavigationGuardProvider');\n  }\n  return context;\n};\n\nfunction App() {\n  const [authenticated, setAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n\n  // ‚úÖ INITIALISATION des field mappings au d√©marrage\n  useEffect(() => {\n    try {\n      initializeFieldMappings();\n      log.debug('‚úÖ Field mappings initialis√©s');\n    } catch (error) {\n      log.error('‚ùå Erreur initialisation field mappings:', error);\n    }\n  }, []);\n\n  // Configuration de l'URL Helper selon l'environnement\n  useEffect(() => {\n    try {\n      configureUrlHelperForEnvironment();\n      \n      // Activer le logging des URLs en d√©veloppement\n      if (process.env.NODE_ENV === 'development' && process.env.REACT_APP_DEBUG_URLS) {\n        setUrlLogging(true, ['backendUrl', 'apiUrl']);\n      }\n    } catch (error) {\n      log.error('‚ùå Erreur configuration URL Helper:', error);\n    }\n  }, []);\n\n  // ‚úÖ V√âRIFICATION DE L'AUTHENTIFICATION AU D√âMARRAGE\n  useEffect(() => {\n    const checkAuthentication = async () => {\n      try {\n        log.debug('üîê V√©rification de l\\'authentification...');\n        \n        // ‚úÖ V√©rifier si utilisateur existe en localStorage\n        if (authService.isAuthenticated()) {\n          log.debug('‚úÖ Utilisateur trouv√© en localStorage');\n          const currentUser = authService.getCurrentUser();\n          \n          // ‚úÖ V√©rifier la session c√¥t√© serveur (checkAuth)\n          try {\n            const authData = await authService.checkAuth();\n            if (authData && authData.success) {\n              log.debug('‚úÖ Session valide c√¥t√© serveur:', authData.user);\n              setUser(authData.user);\n              setAuthenticated(true);\n            } else {\n              log.debug('‚ùå Session invalide c√¥t√© serveur');\n              setAuthenticated(false);\n              setUser(null);\n              authService.logout();\n            }\n          } catch (checkError) {\n            log.error('‚ùå Erreur v√©rification session:', checkError);\n            // Gardez l'utilisateur du localStorage si erreur serveur\n            setUser(currentUser);\n            setAuthenticated(true);\n          }\n        } else {\n          log.debug('‚ùå Aucun utilisateur trouv√©');\n          setAuthenticated(false);\n          setUser(null);\n        }\n      } catch (error) {\n        log.error('‚ùå Erreur d\\'authentification:', error);\n        setAuthenticated(false);\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkAuthentication();\n\n    // ‚úÖ Gestionnaire d'√©v√©nement auth-expired\n    const handleAuthExpired = () => {\n      log.debug('üö® Session expir√©e d√©tect√©e - D√©connexion');\n      setAuthenticated(false);\n      setUser(null);\n      localStorage.removeItem('user');\n    };\n\n    window.addEventListener('auth-expired', handleAuthExpired);\n    \n    return () => {\n      window.removeEventListener('auth-expired', handleAuthExpired);\n    };\n  }, []);\n\n  // Composant Header prot√©g√©\n  const ProtectedHeader = () => {\n    const { interceptNavigation } = useNavigationGuard();\n\n    const handleLogout = () => {\n      interceptNavigation(\n        async () => {\n          log.debug('üö™ D√©connexion...');\n          try {\n            await authService.logout();\n            setUser(null);\n            setAuthenticated(false);\n            log.debug('‚úÖ D√©connexion r√©ussie');\n          } catch (error) {\n            log.error('‚ùå Erreur de d√©connexion:', error);\n            setUser(null);\n            setAuthenticated(false);\n          }\n        },\n        'logout'\n      );\n    };\n\n    return (\n      <Header\n        appName=\"Facturation\"\n        appVersion=\"1.0.0\"\n        user={user}\n        onLogout={handleLogout}\n      />\n    );\n  };\n\n  // Rafra√Æchissement de session\n  const refreshSession = async (newSessionExpiry) => {\n    if (newSessionExpiry && user) {\n      setUser(prev => ({\n        ...prev,\n        sessionExpire: newSessionExpiry\n      }));\n    }\n  };\n\n  // ‚úÖ GESTION DE LA CONNEXION CORRIG√âE\n  const handleLogin = async (username, password) => {\n    try {\n      log.debug('üîê D√©but handleLogin');\n      setLoading(true);\n      \n      // ‚úÖ Re√ßoit directement username et password (comme avant)\n      const result = await authService.login(username, password);\n      log.debug('üìä R√©ponse login compl√®te:', result);\n      \n      if (result && result.success && result.user) {\n        log.debug('‚úÖ Login success d√©tect√©, mise √† jour des √©tats...');\n        setUser(result.user);\n        setAuthenticated(true);\n        log.debug('üéØ √âtats mis √† jour - User:', result.user);\n        \n        // Attendre un peu pour que le state se mette √† jour\n        await new Promise(resolve => setTimeout(resolve, 100));\n        log.debug('‚úÖ Connexion termin√©e avec succ√®s');\n        \n        // ‚úÖ REDIRECTION MANUELLE VERS LA PAGE PRINCIPALE\n        window.location.hash = '#/';\n        \n      } else {\n        log.error('‚ùå Login failed - r√©ponse:', result);\n        throw new Error(result?.message || 'Erreur de connexion');\n      }\n    } catch (error) {\n      log.error('‚ùå Erreur de connexion dans handleLogin:', error);\n      setAuthenticated(false);\n      setUser(null);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Affichage de chargement\n  if (loading) {\n    return <LoadingSpinner message=\"Chargement de l'application...\" />;\n  }\n\n  // Contexte utilisateur\n  const userContext = {\n    user,\n    setUser,\n    refreshSession,\n    appConfig: {\n      appName: 'Facturation',\n      appVersion: '1.0.0'\n    }\n  };\n\n  // Layout principal pour les pages authentifi√©es avec protection globale\n  const AuthenticatedLayout = () => (\n    <NavigationGuardProvider>\n      <SessionAlert\n        sessionExpire={user?.sessionExpire}\n        onRefresh={refreshSession}\n      />\n      <ProtectedHeader />\n      <main className=\"app-main\">\n        <Outlet context={userContext} />\n      </main>\n      <GlobalDatePicker />\n      \n      {/* ‚úÖ INDICATEUR de configuration */}\n      {process.env.NODE_ENV === 'development' && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          right: 0,\n          background: process.env.REACT_APP_API_BASE_URL ? '#28a745' : '#007bff',\n          color: 'white',\n          padding: '5px 10px',\n          fontSize: '12px',\n          zIndex: 9999,\n          borderBottomLeftRadius: '5px'\n        }}>\n          {process.env.REACT_APP_API_BASE_URL ? 'REACT S√âPAR√â + MAPPINGS' : 'REACT DEV + MAPPINGS'}\n        </div>\n      )}\n    </NavigationGuardProvider>\n  );\n\n  // Layout simple pour les pages non authentifi√©es\n  const PublicLayout = () => (\n    <>\n      <Outlet />\n      {process.env.NODE_ENV === 'development' && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          right: 0,\n          background: '#dc3545',\n          color: 'white',\n          padding: '5px 10px',\n          fontSize: '12px',\n          zIndex: 9999,\n          borderBottomLeftRadius: '5px'\n        }}>\n          PUBLIC\n        </div>\n      )}\n    </>\n  );\n\n  // Configuration du routeur\n  const router = createHashRouter([\n    // Routes publiques (non authentifi√©es)\n    {\n      path: \"/public\",\n      element: <PublicLayout />,\n      children: [\n        {\n          path: \"login\",\n          element: <LoginPage onLogin={handleLogin} loading={loading} />\n        },\n        {\n          path: \"forgot-password\",\n          element: <ForgotPassword />\n        },\n        {\n          path: \"reset-password\",\n          element: <ResetPassword />\n        }\n      ]\n    },\n    \n    // Routes authentifi√©es\n    {\n      path: \"/\",\n      element: authenticated ? <AuthenticatedLayout /> : <Navigate to=\"/public/login\" replace />,\n      children: [\n        {\n          index: true,\n          element: <FacturationPage userContext={userContext} initialSection=\"factures\" />\n        },\n        \n        // ‚úÖ ROUTE: Dashboard\n        {\n          path: \"dashboard\",\n          element: <FacturationPage userContext={userContext} initialSection=\"dashboard\" />\n        },\n        \n        // ‚úÖ ROUTE ADMIN: Dashboard admin\n        {\n          path: \"admin/dashboard\",\n          element: <FacturationPage userContext={userContext} initialSection=\"admin_dashboard\" />\n        },\n        \n        // Route pour les utilisateurs (admin/gestionnaire)\n        {\n          path: \"admin/utilisateurs\",\n          element: <FacturationPage userContext={userContext} initialSection=\"utilisateurs\" />\n        },\n        \n        // Route pour les param√®tres (admin/gestionnaire)\n        {\n          path: \"parametres\",\n          element: <FacturationPage userContext={userContext} initialSection=\"parametres\" />\n        }\n      ]\n    },\n    \n    // Redirections\n    {\n      path: \"/login\",\n      element: <Navigate to=\"/public/login\" replace />\n    },\n    {\n      path: \"/forgot-password\",\n      element: <Navigate to=\"/public/forgot-password\" replace />\n    },\n    {\n      path: \"/reset-password\",\n      element: <Navigate to=\"/public/reset-password\" replace />\n    },\n    \n    // Catch-all\n    {\n      path: \"*\",\n      element: authenticated ? <Navigate to=\"/\" replace /> : <Navigate to=\"/public/login\" replace />\n    }\n  ]);\n\n  return (\n    <NotificationProvider>\n      <DateProvider>\n        <RouterProvider router={router} />\n      </DateProvider>\n    </NotificationProvider>\n  );\n}\n\nexport default App;"],"mappings":";;;;;;AAOA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,oBAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAC,sBAAA,CAAAL,OAAA;AACA,IAAAM,gBAAA,GAAAD,sBAAA,CAAAL,OAAA;AACA,IAAAO,UAAA,GAAAF,sBAAA,CAAAL,OAAA;AACA,IAAAQ,eAAA,GAAAH,sBAAA,CAAAL,OAAA;AACA,IAAAS,cAAA,GAAAJ,sBAAA,CAAAL,OAAA;AACA,IAAAU,eAAA,GAAAL,sBAAA,CAAAL,OAAA;AACA,IAAAW,aAAA,GAAAN,sBAAA,CAAAL,OAAA;AACA,IAAAY,OAAA,GAAAP,sBAAA,CAAAL,OAAA;AACA,IAAAa,iBAAA,GAAAR,sBAAA,CAAAL,OAAA;AACA,IAAAc,yBAAA,GAAAd,OAAA;AACAA,OAAA;AACA,IAAAe,UAAA,GAAAf,OAAA;AAIA,IAAAgB,aAAA,GAAAhB,OAAA;AAGA,IAAAiB,cAAA,GAAAjB,OAAA;AAAoE,SAAAK,uBAAAa,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,SAAAnB,wBAAAmB,CAAA,EAAAG,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAvB,uBAAA,YAAAA,CAAAmB,CAAA,EAAAG,CAAA,SAAAA,CAAA,IAAAH,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,MAAAO,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAR,OAAA,EAAAF,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAS,CAAA,MAAAF,CAAA,GAAAJ,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAE,CAAA,CAAAI,GAAA,CAAAX,CAAA,UAAAO,CAAA,CAAAK,GAAA,CAAAZ,CAAA,GAAAO,CAAA,CAAAM,GAAA,CAAAb,CAAA,EAAAS,CAAA,gBAAAN,CAAA,IAAAH,CAAA,gBAAAG,CAAA,OAAAW,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAG,CAAA,OAAAK,CAAA,IAAAD,CAAA,GAAAS,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAG,CAAA,OAAAK,CAAA,CAAAI,GAAA,IAAAJ,CAAA,CAAAK,GAAA,IAAAN,CAAA,CAAAE,CAAA,EAAAN,CAAA,EAAAK,CAAA,IAAAC,CAAA,CAAAN,CAAA,IAAAH,CAAA,CAAAG,CAAA,WAAAM,CAAA,KAAAT,CAAA,EAAAG,CAAA;AA7BpE;AACA;AACA;AACA;AACA;AACA;;AAuBA;;AAGA,MAAMgB,GAAG,GAAG,IAAAC,0BAAY,EAAC,KAAK,CAAC;AAE/BD,GAAG,CAACE,KAAK,CAAC,kEAAkE,CAAC;;AAE7E;AACA,MAAMC,sBAAsB,gBAAGC,cAAK,CAACC,aAAa,CAAC,CAAC;;AAEpD;AACA,MAAMC,uBAAuB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAChD,MAAMC,WAAW,GAAG,IAAAC,kDAAwB,EAAC,CAAC;EAE9C,oBACEhD,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACP,sBAAsB,CAACQ,QAAQ;IAACC,KAAK,EAAEJ;EAAY,GACjDD,QAC8B,CAAC;AAEtC,CAAC;;AAED;AACO,MAAMM,kBAAkB,GAAGA,CAAA,KAAM;EACtC,MAAMC,OAAO,GAAGV,cAAK,CAACW,UAAU,CAACZ,sBAAsB,CAAC;EACxD,IAAI,CAACW,OAAO,EAAE;IACZ,MAAM,IAAIE,KAAK,CAAC,mEAAmE,CAAC;EACtF;EACA,OAAOF,OAAO;AAChB,CAAC;AAACG,OAAA,CAAAJ,kBAAA,GAAAA,kBAAA;AAEF,SAASK,GAAGA,CAAA,EAAG;EACb,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG,IAAAC,eAAQ,EAAC,KAAK,CAAC;EACzD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG,IAAAF,eAAQ,EAAC,IAAI,CAAC;EAC5C,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAG,IAAAJ,eAAQ,EAAC,IAAI,CAAC;;EAEtC;EACA,IAAAK,gBAAS,EAAC,MAAM;IACd,IAAI;MACF,IAAAC,sCAAuB,EAAC,CAAC;MACzB3B,GAAG,CAACE,KAAK,CAAC,8BAA8B,CAAC;IAC3C,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACd5B,GAAG,CAAC4B,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;IAC7D;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,IAAAF,gBAAS,EAAC,MAAM;IACd,IAAI;MACF,IAAAG,2CAAgC,EAAC,CAAC;;MAElC;MACA,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,IAAIF,OAAO,CAACC,GAAG,CAACE,oBAAoB,EAAE;QAC9E,IAAAC,wBAAa,EAAC,IAAI,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;MAC/C;IACF,CAAC,CAAC,OAAON,KAAK,EAAE;MACd5B,GAAG,CAAC4B,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IACxD;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,IAAAF,gBAAS,EAAC,MAAM;IACd,MAAMS,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI;QACFnC,GAAG,CAACE,KAAK,CAAC,2CAA2C,CAAC;;QAEtD;QACA,IAAIkC,oBAAW,CAACC,eAAe,CAAC,CAAC,EAAE;UACjCrC,GAAG,CAACE,KAAK,CAAC,sCAAsC,CAAC;UACjD,MAAMoC,WAAW,GAAGF,oBAAW,CAACG,cAAc,CAAC,CAAC;;UAEhD;UACA,IAAI;YACF,MAAMC,QAAQ,GAAG,MAAMJ,oBAAW,CAACK,SAAS,CAAC,CAAC;YAC9C,IAAID,QAAQ,IAAIA,QAAQ,CAACE,OAAO,EAAE;cAChC1C,GAAG,CAACE,KAAK,CAAC,gCAAgC,EAAEsC,QAAQ,CAAChB,IAAI,CAAC;cAC1DC,OAAO,CAACe,QAAQ,CAAChB,IAAI,CAAC;cACtBJ,gBAAgB,CAAC,IAAI,CAAC;YACxB,CAAC,MAAM;cACLpB,GAAG,CAACE,KAAK,CAAC,iCAAiC,CAAC;cAC5CkB,gBAAgB,CAAC,KAAK,CAAC;cACvBK,OAAO,CAAC,IAAI,CAAC;cACbW,oBAAW,CAACO,MAAM,CAAC,CAAC;YACtB;UACF,CAAC,CAAC,OAAOC,UAAU,EAAE;YACnB5C,GAAG,CAAC4B,KAAK,CAAC,gCAAgC,EAAEgB,UAAU,CAAC;YACvD;YACAnB,OAAO,CAACa,WAAW,CAAC;YACpBlB,gBAAgB,CAAC,IAAI,CAAC;UACxB;QACF,CAAC,MAAM;UACLpB,GAAG,CAACE,KAAK,CAAC,4BAA4B,CAAC;UACvCkB,gBAAgB,CAAC,KAAK,CAAC;UACvBK,OAAO,CAAC,IAAI,CAAC;QACf;MACF,CAAC,CAAC,OAAOG,KAAK,EAAE;QACd5B,GAAG,CAAC4B,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACjDR,gBAAgB,CAAC,KAAK,CAAC;QACvBK,OAAO,CAAC,IAAI,CAAC;MACf,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDY,mBAAmB,CAAC,CAAC;;IAErB;IACA,MAAMU,iBAAiB,GAAGA,CAAA,KAAM;MAC9B7C,GAAG,CAACE,KAAK,CAAC,2CAA2C,CAAC;MACtDkB,gBAAgB,CAAC,KAAK,CAAC;MACvBK,OAAO,CAAC,IAAI,CAAC;MACbqB,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IACjC,CAAC;IAEDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAEJ,iBAAiB,CAAC;IAE1D,OAAO,MAAM;MACXG,MAAM,CAACE,mBAAmB,CAAC,cAAc,EAAEL,iBAAiB,CAAC;IAC/D,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMM,eAAe,GAAGA,CAAA,KAAM;IAC5B,MAAM;MAAEC;IAAoB,CAAC,GAAGvC,kBAAkB,CAAC,CAAC;IAEpD,MAAMwC,YAAY,GAAGA,CAAA,KAAM;MACzBD,mBAAmB,CACjB,YAAY;QACVpD,GAAG,CAACE,KAAK,CAAC,mBAAmB,CAAC;QAC9B,IAAI;UACF,MAAMkC,oBAAW,CAACO,MAAM,CAAC,CAAC;UAC1BlB,OAAO,CAAC,IAAI,CAAC;UACbL,gBAAgB,CAAC,KAAK,CAAC;UACvBpB,GAAG,CAACE,KAAK,CAAC,uBAAuB,CAAC;QACpC,CAAC,CAAC,OAAO0B,KAAK,EAAE;UACd5B,GAAG,CAAC4B,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAC5CH,OAAO,CAAC,IAAI,CAAC;UACbL,gBAAgB,CAAC,KAAK,CAAC;QACzB;MACF,CAAC,EACD,QACF,CAAC;IACH,CAAC;IAED,oBACE3D,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACnC,OAAA,CAAAQ,OAAM;MACLuE,OAAO,EAAC,aAAa;MACrBC,UAAU,EAAC,OAAO;MAClB/B,IAAI,EAAEA,IAAK;MACXgC,QAAQ,EAAEH;IAAa,CACxB,CAAC;EAEN,CAAC;;EAED;EACA,MAAMI,cAAc,GAAG,MAAOC,gBAAgB,IAAK;IACjD,IAAIA,gBAAgB,IAAIlC,IAAI,EAAE;MAC5BC,OAAO,CAACkC,IAAI,KAAK;QACf,GAAGA,IAAI;QACPC,aAAa,EAAEF;MACjB,CAAC,CAAC,CAAC;IACL;EACF,CAAC;;EAED;EACA,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAChD,IAAI;MACF/D,GAAG,CAACE,KAAK,CAAC,sBAAsB,CAAC;MACjCqB,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACA,MAAMyC,MAAM,GAAG,MAAM5B,oBAAW,CAAC6B,KAAK,CAACH,QAAQ,EAAEC,QAAQ,CAAC;MAC1D/D,GAAG,CAACE,KAAK,CAAC,4BAA4B,EAAE8D,MAAM,CAAC;MAE/C,IAAIA,MAAM,IAAIA,MAAM,CAACtB,OAAO,IAAIsB,MAAM,CAACxC,IAAI,EAAE;QAC3CxB,GAAG,CAACE,KAAK,CAAC,mDAAmD,CAAC;QAC9DuB,OAAO,CAACuC,MAAM,CAACxC,IAAI,CAAC;QACpBJ,gBAAgB,CAAC,IAAI,CAAC;QACtBpB,GAAG,CAACE,KAAK,CAAC,6BAA6B,EAAE8D,MAAM,CAACxC,IAAI,CAAC;;QAErD;QACA,MAAM,IAAI0C,OAAO,CAACC,OAAO,IAAIC,UAAU,CAACD,OAAO,EAAE,GAAG,CAAC,CAAC;QACtDnE,GAAG,CAACE,KAAK,CAAC,kCAAkC,CAAC;;QAE7C;QACA8C,MAAM,CAACqB,QAAQ,CAACC,IAAI,GAAG,IAAI;MAE7B,CAAC,MAAM;QACLtE,GAAG,CAAC4B,KAAK,CAAC,2BAA2B,EAAEoC,MAAM,CAAC;QAC9C,MAAM,IAAIhD,KAAK,CAACgD,MAAM,EAAEO,OAAO,IAAI,qBAAqB,CAAC;MAC3D;IACF,CAAC,CAAC,OAAO3C,KAAK,EAAE;MACd5B,GAAG,CAAC4B,KAAK,CAAC,yCAAyC,EAAEA,KAAK,CAAC;MAC3DR,gBAAgB,CAAC,KAAK,CAAC;MACvBK,OAAO,CAAC,IAAI,CAAC;MACb,MAAMG,KAAK;IACb,CAAC,SAAS;MACRL,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,IAAID,OAAO,EAAE;IACX,oBAAO7D,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACrC,eAAA,CAAAU,OAAc;MAACwF,OAAO,EAAC;IAAgC,CAAE,CAAC;EACpE;;EAEA;EACA,MAAMC,WAAW,GAAG;IAClBhD,IAAI;IACJC,OAAO;IACPgC,cAAc;IACdgB,SAAS,EAAE;MACTnB,OAAO,EAAE,aAAa;MACtBC,UAAU,EAAE;IACd;EACF,CAAC;;EAED;EACA,MAAMmB,mBAAmB,GAAGA,CAAA,kBAC1BjH,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACJ,uBAAuB,qBACtB7C,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACpC,aAAA,CAAAS,OAAY;IACX6E,aAAa,EAAEpC,IAAI,EAAEoC,aAAc;IACnCe,SAAS,EAAElB;EAAe,CAC3B,CAAC,eACFhG,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACyC,eAAe,MAAE,CAAC,eACnB1F,MAAA,CAAAsB,OAAA,CAAA2B,aAAA;IAAMkE,SAAS,EAAC;EAAU,gBACxBnH,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAiH,MAAM;IAAC/D,OAAO,EAAE0D;EAAY,CAAE,CAC3B,CAAC,eACP/G,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAClC,iBAAA,CAAAO,OAAgB,MAAE,CAAC,EAGnB+C,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,iBACrCvE,MAAA,CAAAsB,OAAA,CAAA2B,aAAA;IAAKoE,KAAK,EAAE;MACVC,QAAQ,EAAE,OAAO;MACjBC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,CAAC;MACRC,UAAU,EAAEpD,OAAO,CAACC,GAAG,CAACoD,sBAAsB,GAAG,SAAS,GAAG,SAAS;MACtEC,KAAK,EAAE,OAAO;MACdC,OAAO,EAAE,UAAU;MACnBC,QAAQ,EAAE,MAAM;MAChBC,MAAM,EAAE,IAAI;MACZC,sBAAsB,EAAE;IAC1B;EAAE,GACC1D,OAAO,CAACC,GAAG,CAACoD,sBAAsB,GAAG,yBAAyB,GAAG,sBAC/D,CAEgB,CAC1B;;EAED;EACA,MAAMM,YAAY,GAAGA,CAAA,kBACnBhI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAAjD,MAAA,CAAAsB,OAAA,CAAA2G,QAAA,qBACEjI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAiH,MAAM,MAAE,CAAC,EACT/C,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,iBACrCvE,MAAA,CAAAsB,OAAA,CAAA2B,aAAA;IAAKoE,KAAK,EAAE;MACVC,QAAQ,EAAE,OAAO;MACjBC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,CAAC;MACRC,UAAU,EAAE,SAAS;MACrBE,KAAK,EAAE,OAAO;MACdC,OAAO,EAAE,UAAU;MACnBC,QAAQ,EAAE,MAAM;MAChBC,MAAM,EAAE,IAAI;MACZC,sBAAsB,EAAE;IAC1B;EAAE,GAAC,QAEE,CAEP,CACH;;EAED;EACA,MAAMG,MAAM,GAAG,IAAAC,gCAAgB,EAAC;EAC9B;EACA;IACEC,IAAI,EAAE,SAAS;IACfC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC+E,YAAY,MAAE,CAAC;IACzBlF,QAAQ,EAAE,CACR;MACEsF,IAAI,EAAE,OAAO;MACbC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACxC,UAAA,CAAAa,OAAS;QAACgH,OAAO,EAAElC,WAAY;QAACvC,OAAO,EAAEA;MAAQ,CAAE;IAC/D,CAAC,EACD;MACEuE,IAAI,EAAE,iBAAiB;MACvBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACvC,eAAA,CAAAY,OAAc,MAAE;IAC5B,CAAC,EACD;MACE8G,IAAI,EAAE,gBAAgB;MACtBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACtC,cAAA,CAAAW,OAAa,MAAE;IAC3B,CAAC;EAEL,CAAC;EAED;EACA;IACE8G,IAAI,EAAE,GAAG;IACTC,OAAO,EAAE3E,aAAa,gBAAG1D,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACgE,mBAAmB,MAAE,CAAC,gBAAGjH,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAoI,QAAQ;MAACC,EAAE,EAAC,eAAe;MAACC,OAAO;IAAA,CAAE,CAAC;IAC1F3F,QAAQ,EAAE,CACR;MACE4F,KAAK,EAAE,IAAI;MACXL,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACzC,gBAAA,CAAAc,OAAe;QAACyF,WAAW,EAAEA,WAAY;QAAC4B,cAAc,EAAC;MAAU,CAAE;IACjF,CAAC;IAED;IACA;MACEP,IAAI,EAAE,WAAW;MACjBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACzC,gBAAA,CAAAc,OAAe;QAACyF,WAAW,EAAEA,WAAY;QAAC4B,cAAc,EAAC;MAAW,CAAE;IAClF,CAAC;IAED;IACA;MACEP,IAAI,EAAE,iBAAiB;MACvBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACzC,gBAAA,CAAAc,OAAe;QAACyF,WAAW,EAAEA,WAAY;QAAC4B,cAAc,EAAC;MAAiB,CAAE;IACxF,CAAC;IAED;IACA;MACEP,IAAI,EAAE,oBAAoB;MAC1BC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACzC,gBAAA,CAAAc,OAAe;QAACyF,WAAW,EAAEA,WAAY;QAAC4B,cAAc,EAAC;MAAc,CAAE;IACrF,CAAC;IAED;IACA;MACEP,IAAI,EAAE,YAAY;MAClBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAACzC,gBAAA,CAAAc,OAAe;QAACyF,WAAW,EAAEA,WAAY;QAAC4B,cAAc,EAAC;MAAY,CAAE;IACnF,CAAC;EAEL,CAAC;EAED;EACA;IACEP,IAAI,EAAE,QAAQ;IACdC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAoI,QAAQ;MAACC,EAAE,EAAC,eAAe;MAACC,OAAO;IAAA,CAAE;EACjD,CAAC,EACD;IACEL,IAAI,EAAE,kBAAkB;IACxBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAoI,QAAQ;MAACC,EAAE,EAAC,yBAAyB;MAACC,OAAO;IAAA,CAAE;EAC3D,CAAC,EACD;IACEL,IAAI,EAAE,iBAAiB;IACvBC,OAAO,eAAErI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAoI,QAAQ;MAACC,EAAE,EAAC,wBAAwB;MAACC,OAAO;IAAA,CAAE;EAC1D,CAAC;EAED;EACA;IACEL,IAAI,EAAE,GAAG;IACTC,OAAO,EAAE3E,aAAa,gBAAG1D,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAoI,QAAQ;MAACC,EAAE,EAAC,GAAG;MAACC,OAAO;IAAA,CAAE,CAAC,gBAAGzI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAAoI,QAAQ;MAACC,EAAE,EAAC,eAAe;MAACC,OAAO;IAAA,CAAE;EAC/F,CAAC,CACF,CAAC;EAEF,oBACEzI,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC7C,oBAAA,CAAAwI,oBAAoB,qBACnB5I,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC5C,YAAA,CAAAwI,YAAY,qBACX7I,MAAA,CAAAsB,OAAA,CAAA2B,aAAA,CAAC9C,eAAA,CAAA2I,cAAc;IAACZ,MAAM,EAAEA;EAAO,CAAE,CACrB,CACM,CAAC;AAE3B;AAAC,IAAAa,QAAA,GAAAvF,OAAA,CAAAlC,OAAA,GAEcmC,GAAG","ignoreList":[]}