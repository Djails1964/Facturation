d2fb52bc10e02d4191f17e4c530a0435
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _index = _interopRequireDefault(require("../platform/index.js"));
var _utils = _interopRequireDefault(require("../utils.js"));
var _AxiosError = _interopRequireDefault(require("../core/AxiosError.js"));
var _composeSignals = _interopRequireDefault(require("../helpers/composeSignals.js"));
var _trackStream = require("../helpers/trackStream.js");
var _AxiosHeaders = _interopRequireDefault(require("../core/AxiosHeaders.js"));
var _progressEventReducer = require("../helpers/progressEventReducer.js");
var _resolveConfig = _interopRequireDefault(require("../helpers/resolveConfig.js"));
var _settle = _interopRequireDefault(require("../core/settle.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';
const isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';

// used only inside the fetch adapter
const encodeText = isFetchSupported && (typeof TextEncoder === 'function' ? (encoder => str => encoder.encode(str))(new TextEncoder()) : async str => new Uint8Array(await new Response(str).arrayBuffer()));
const test = (fn, ...args) => {
  try {
    return !!fn(...args);
  } catch (e) {
    return false;
  }
};
const supportsRequestStream = isReadableStreamSupported && test(() => {
  let duplexAccessed = false;
  const hasContentType = new Request(_index.default.origin, {
    body: new ReadableStream(),
    method: 'POST',
    get duplex() {
      duplexAccessed = true;
      return 'half';
    }
  }).headers.has('Content-Type');
  return duplexAccessed && !hasContentType;
});
const DEFAULT_CHUNK_SIZE = 64 * 1024;
const supportsResponseStream = isReadableStreamSupported && test(() => _utils.default.isReadableStream(new Response('').body));
const resolvers = {
  stream: supportsResponseStream && (res => res.body)
};
isFetchSupported && (res => {
  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {
    !resolvers[type] && (resolvers[type] = _utils.default.isFunction(res[type]) ? res => res[type]() : (_, config) => {
      throw new _AxiosError.default(`Response type '${type}' is not supported`, _AxiosError.default.ERR_NOT_SUPPORT, config);
    });
  });
})(new Response());
const getBodyLength = async body => {
  if (body == null) {
    return 0;
  }
  if (_utils.default.isBlob(body)) {
    return body.size;
  }
  if (_utils.default.isSpecCompliantForm(body)) {
    const _request = new Request(_index.default.origin, {
      method: 'POST',
      body
    });
    return (await _request.arrayBuffer()).byteLength;
  }
  if (_utils.default.isArrayBufferView(body) || _utils.default.isArrayBuffer(body)) {
    return body.byteLength;
  }
  if (_utils.default.isURLSearchParams(body)) {
    body = body + '';
  }
  if (_utils.default.isString(body)) {
    return (await encodeText(body)).byteLength;
  }
};
const resolveBodyLength = async (headers, body) => {
  const length = _utils.default.toFiniteNumber(headers.getContentLength());
  return length == null ? getBodyLength(body) : length;
};
var _default = exports.default = isFetchSupported && (async config => {
  let {
    url,
    method,
    data,
    signal,
    cancelToken,
    timeout,
    onDownloadProgress,
    onUploadProgress,
    responseType,
    headers,
    withCredentials = 'same-origin',
    fetchOptions
  } = (0, _resolveConfig.default)(config);
  responseType = responseType ? (responseType + '').toLowerCase() : 'text';
  let composedSignal = (0, _composeSignals.default)([signal, cancelToken && cancelToken.toAbortSignal()], timeout);
  let request;
  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {
    composedSignal.unsubscribe();
  });
  let requestContentLength;
  try {
    if (onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' && (requestContentLength = await resolveBodyLength(headers, data)) !== 0) {
      let _request = new Request(url, {
        method: 'POST',
        body: data,
        duplex: "half"
      });
      let contentTypeHeader;
      if (_utils.default.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {
        headers.setContentType(contentTypeHeader);
      }
      if (_request.body) {
        const [onProgress, flush] = (0, _progressEventReducer.progressEventDecorator)(requestContentLength, (0, _progressEventReducer.progressEventReducer)((0, _progressEventReducer.asyncDecorator)(onUploadProgress)));
        data = (0, _trackStream.trackStream)(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);
      }
    }
    if (!_utils.default.isString(withCredentials)) {
      withCredentials = withCredentials ? 'include' : 'omit';
    }

    // Cloudflare Workers throws when credentials are defined
    // see https://github.com/cloudflare/workerd/issues/902
    const isCredentialsSupported = "credentials" in Request.prototype;
    request = new Request(url, {
      ...fetchOptions,
      signal: composedSignal,
      method: method.toUpperCase(),
      headers: headers.normalize().toJSON(),
      body: data,
      duplex: "half",
      credentials: isCredentialsSupported ? withCredentials : undefined
    });
    let response = await fetch(request);
    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');
    if (supportsResponseStream && (onDownloadProgress || isStreamResponse && unsubscribe)) {
      const options = {};
      ['status', 'statusText', 'headers'].forEach(prop => {
        options[prop] = response[prop];
      });
      const responseContentLength = _utils.default.toFiniteNumber(response.headers.get('content-length'));
      const [onProgress, flush] = onDownloadProgress && (0, _progressEventReducer.progressEventDecorator)(responseContentLength, (0, _progressEventReducer.progressEventReducer)((0, _progressEventReducer.asyncDecorator)(onDownloadProgress), true)) || [];
      response = new Response((0, _trackStream.trackStream)(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {
        flush && flush();
        unsubscribe && unsubscribe();
      }), options);
    }
    responseType = responseType || 'text';
    let responseData = await resolvers[_utils.default.findKey(resolvers, responseType) || 'text'](response, config);
    !isStreamResponse && unsubscribe && unsubscribe();
    return await new Promise((resolve, reject) => {
      (0, _settle.default)(resolve, reject, {
        data: responseData,
        headers: _AxiosHeaders.default.from(response.headers),
        status: response.status,
        statusText: response.statusText,
        config,
        request
      });
    });
  } catch (err) {
    unsubscribe && unsubscribe();
    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {
      throw Object.assign(new _AxiosError.default('Network Error', _AxiosError.default.ERR_NETWORK, config, request), {
        cause: err.cause || err
      });
    }
    throw _AxiosError.default.from(err, err && err.code, config, request);
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW5kZXgiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl91dGlscyIsIl9BeGlvc0Vycm9yIiwiX2NvbXBvc2VTaWduYWxzIiwiX3RyYWNrU3RyZWFtIiwiX0F4aW9zSGVhZGVycyIsIl9wcm9ncmVzc0V2ZW50UmVkdWNlciIsIl9yZXNvbHZlQ29uZmlnIiwiX3NldHRsZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImlzRmV0Y2hTdXBwb3J0ZWQiLCJmZXRjaCIsIlJlcXVlc3QiLCJSZXNwb25zZSIsImlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQiLCJSZWFkYWJsZVN0cmVhbSIsImVuY29kZVRleHQiLCJUZXh0RW5jb2RlciIsImVuY29kZXIiLCJzdHIiLCJlbmNvZGUiLCJVaW50OEFycmF5IiwiYXJyYXlCdWZmZXIiLCJ0ZXN0IiwiZm4iLCJhcmdzIiwic3VwcG9ydHNSZXF1ZXN0U3RyZWFtIiwiZHVwbGV4QWNjZXNzZWQiLCJoYXNDb250ZW50VHlwZSIsInBsYXRmb3JtIiwib3JpZ2luIiwiYm9keSIsIm1ldGhvZCIsImR1cGxleCIsImhlYWRlcnMiLCJoYXMiLCJERUZBVUxUX0NIVU5LX1NJWkUiLCJzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtIiwidXRpbHMiLCJpc1JlYWRhYmxlU3RyZWFtIiwicmVzb2x2ZXJzIiwic3RyZWFtIiwicmVzIiwiZm9yRWFjaCIsInR5cGUiLCJpc0Z1bmN0aW9uIiwiXyIsImNvbmZpZyIsIkF4aW9zRXJyb3IiLCJFUlJfTk9UX1NVUFBPUlQiLCJnZXRCb2R5TGVuZ3RoIiwiaXNCbG9iIiwic2l6ZSIsImlzU3BlY0NvbXBsaWFudEZvcm0iLCJfcmVxdWVzdCIsImJ5dGVMZW5ndGgiLCJpc0FycmF5QnVmZmVyVmlldyIsImlzQXJyYXlCdWZmZXIiLCJpc1VSTFNlYXJjaFBhcmFtcyIsImlzU3RyaW5nIiwicmVzb2x2ZUJvZHlMZW5ndGgiLCJsZW5ndGgiLCJ0b0Zpbml0ZU51bWJlciIsImdldENvbnRlbnRMZW5ndGgiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJ1cmwiLCJkYXRhIiwic2lnbmFsIiwiY2FuY2VsVG9rZW4iLCJ0aW1lb3V0Iiwib25Eb3dubG9hZFByb2dyZXNzIiwib25VcGxvYWRQcm9ncmVzcyIsInJlc3BvbnNlVHlwZSIsIndpdGhDcmVkZW50aWFscyIsImZldGNoT3B0aW9ucyIsInJlc29sdmVDb25maWciLCJ0b0xvd2VyQ2FzZSIsImNvbXBvc2VkU2lnbmFsIiwiY29tcG9zZVNpZ25hbHMiLCJ0b0Fib3J0U2lnbmFsIiwicmVxdWVzdCIsInVuc3Vic2NyaWJlIiwicmVxdWVzdENvbnRlbnRMZW5ndGgiLCJjb250ZW50VHlwZUhlYWRlciIsImlzRm9ybURhdGEiLCJnZXQiLCJzZXRDb250ZW50VHlwZSIsIm9uUHJvZ3Jlc3MiLCJmbHVzaCIsInByb2dyZXNzRXZlbnREZWNvcmF0b3IiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsImFzeW5jRGVjb3JhdG9yIiwidHJhY2tTdHJlYW0iLCJpc0NyZWRlbnRpYWxzU3VwcG9ydGVkIiwicHJvdG90eXBlIiwidG9VcHBlckNhc2UiLCJub3JtYWxpemUiLCJ0b0pTT04iLCJjcmVkZW50aWFscyIsInVuZGVmaW5lZCIsInJlc3BvbnNlIiwiaXNTdHJlYW1SZXNwb25zZSIsIm9wdGlvbnMiLCJwcm9wIiwicmVzcG9uc2VDb250ZW50TGVuZ3RoIiwicmVzcG9uc2VEYXRhIiwiZmluZEtleSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic2V0dGxlIiwiQXhpb3NIZWFkZXJzIiwiZnJvbSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJlcnIiLCJuYW1lIiwibWVzc2FnZSIsIk9iamVjdCIsImFzc2lnbiIsIkVSUl9ORVRXT1JLIiwiY2F1c2UiLCJjb2RlIl0sInNvdXJjZXMiOlsiZmV0Y2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBsYXRmb3JtIGZyb20gXCIuLi9wbGF0Zm9ybS9pbmRleC5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuaW1wb3J0IGNvbXBvc2VTaWduYWxzIGZyb20gXCIuLi9oZWxwZXJzL2NvbXBvc2VTaWduYWxzLmpzXCI7XG5pbXBvcnQge3RyYWNrU3RyZWFtfSBmcm9tIFwiLi4vaGVscGVycy90cmFja1N0cmVhbS5qc1wiO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCB7cHJvZ3Jlc3NFdmVudFJlZHVjZXIsIHByb2dyZXNzRXZlbnREZWNvcmF0b3IsIGFzeW5jRGVjb3JhdG9yfSBmcm9tIFwiLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qc1wiO1xuaW1wb3J0IHJlc29sdmVDb25maWcgZnJvbSBcIi4uL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qc1wiO1xuaW1wb3J0IHNldHRsZSBmcm9tIFwiLi4vY29yZS9zZXR0bGUuanNcIjtcblxuY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09ICdmdW5jdGlvbic7XG5cbi8vIHVzZWQgb25seSBpbnNpZGUgdGhlIGZldGNoIGFkYXB0ZXJcbmNvbnN0IGVuY29kZVRleHQgPSBpc0ZldGNoU3VwcG9ydGVkICYmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICBhc3luYyAoc3RyKSA9PiBuZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2Uoc3RyKS5hcnJheUJ1ZmZlcigpKVxuKTtcblxuY29uc3QgdGVzdCA9IChmbiwgLi4uYXJncykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAhIWZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuY29uc3Qgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgbGV0IGR1cGxleEFjY2Vzc2VkID0gZmFsc2U7XG5cbiAgY29uc3QgaGFzQ29udGVudFR5cGUgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBnZXQgZHVwbGV4KCkge1xuICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuICdoYWxmJztcbiAgICB9LFxuICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgcmV0dXJuIGR1cGxleEFjY2Vzc2VkICYmICFoYXNDb250ZW50VHlwZTtcbn0pO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gIHRlc3QoKCkgPT4gdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShuZXcgUmVzcG9uc2UoJycpLmJvZHkpKTtcblxuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG59O1xuXG5pc0ZldGNoU3VwcG9ydGVkICYmICgoKHJlcykgPT4ge1xuICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IHV0aWxzLmlzRnVuY3Rpb24ocmVzW3R5cGVdKSA/IChyZXMpID0+IHJlc1t0eXBlXSgpIDpcbiAgICAgIChfLCBjb25maWcpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFJlc3BvbnNlIHR5cGUgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLCBBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCwgY29uZmlnKTtcbiAgICAgIH0pXG4gIH0pO1xufSkobmV3IFJlc3BvbnNlKSk7XG5cbmNvbnN0IGdldEJvZHlMZW5ndGggPSBhc3luYyAoYm9keSkgPT4ge1xuICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZih1dGlscy5pc0Jsb2IoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5zaXplO1xuICB9XG5cbiAgaWYodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgIGNvbnN0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHksXG4gICAgfSk7XG4gICAgcmV0dXJuIChhd2FpdCBfcmVxdWVzdC5hcnJheUJ1ZmZlcigpKS5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgaWYodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gIH1cblxuICBpZih1dGlscy5pc1N0cmluZyhib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgZW5jb2RlVGV4dChib2R5KSkuYnl0ZUxlbmd0aDtcbiAgfVxufVxuXG5jb25zdCByZXNvbHZlQm9keUxlbmd0aCA9IGFzeW5jIChoZWFkZXJzLCBib2R5KSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICByZXR1cm4gbGVuZ3RoID09IG51bGwgPyBnZXRCb2R5TGVuZ3RoKGJvZHkpIDogbGVuZ3RoO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0ZldGNoU3VwcG9ydGVkICYmIChhc3luYyAoY29uZmlnKSA9PiB7XG4gIGxldCB7XG4gICAgdXJsLFxuICAgIG1ldGhvZCxcbiAgICBkYXRhLFxuICAgIHNpZ25hbCxcbiAgICBjYW5jZWxUb2tlbixcbiAgICB0aW1lb3V0LFxuICAgIG9uRG93bmxvYWRQcm9ncmVzcyxcbiAgICBvblVwbG9hZFByb2dyZXNzLFxuICAgIHJlc3BvbnNlVHlwZSxcbiAgICBoZWFkZXJzLFxuICAgIHdpdGhDcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbicsXG4gICAgZmV0Y2hPcHRpb25zXG4gIH0gPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG5cbiAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlID8gKHJlc3BvbnNlVHlwZSArICcnKS50b0xvd2VyQ2FzZSgpIDogJ3RleHQnO1xuXG4gIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gIGxldCByZXF1ZXN0O1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gY29tcG9zZWRTaWduYWwgJiYgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUgJiYgKCgpID0+IHtcbiAgICAgIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlKCk7XG4gIH0pO1xuXG4gIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICB0cnkge1xuICAgIGlmIChcbiAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgIChyZXF1ZXN0Q29udGVudExlbmd0aCA9IGF3YWl0IHJlc29sdmVCb2R5TGVuZ3RoKGhlYWRlcnMsIGRhdGEpKSAhPT0gMFxuICAgICkge1xuICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbnRlbnRUeXBlSGVhZGVyO1xuXG4gICAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoY29udGVudFR5cGVIZWFkZXIpXG4gICAgICB9XG5cbiAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICApO1xuXG4gICAgICAgIGRhdGEgPSB0cmFja1N0cmVhbShfcmVxdWVzdC5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsIGZsdXNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKHdpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdvbWl0JztcbiAgICB9XG5cbiAgICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgdGhyb3dzIHdoZW4gY3JlZGVudGlhbHMgYXJlIGRlZmluZWRcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvd29ya2VyZC9pc3N1ZXMvOTAyXG4gICAgY29uc3QgaXNDcmVkZW50aWFsc1N1cHBvcnRlZCA9IFwiY3JlZGVudGlhbHNcIiBpbiBSZXF1ZXN0LnByb3RvdHlwZTtcbiAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBzaWduYWw6IGNvbXBvc2VkU2lnbmFsLFxuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgZHVwbGV4OiBcImhhbGZcIixcbiAgICAgIGNyZWRlbnRpYWxzOiBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID8gd2l0aENyZWRlbnRpYWxzIDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KTtcblxuICAgIGNvbnN0IGlzU3RyZWFtUmVzcG9uc2UgPSBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChyZXNwb25zZVR5cGUgPT09ICdzdHJlYW0nIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3Jlc3BvbnNlJyk7XG5cbiAgICBpZiAoc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAob25Eb3dubG9hZFByb2dyZXNzIHx8IChpc1N0cmVhbVJlc3BvbnNlICYmIHVuc3Vic2NyaWJlKSkpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcblxuICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgb3B0aW9uc1twcm9wXSA9IHJlc3BvbnNlW3Byb3BdO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IG9uRG93bmxvYWRQcm9ncmVzcyAmJiBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICApIHx8IFtdO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgZmx1c2ggJiYgZmx1c2goKTtcbiAgICAgICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscy5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgaGVhZGVyczogQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyksXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIGlmIChlcnIgJiYgZXJyLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIC9Mb2FkIGZhaWxlZHxmZXRjaC9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICB9XG59KTtcblxuXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFlBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLGFBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLHFCQUFBLEdBQUFOLE9BQUE7QUFDQSxJQUFBTyxjQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUSxPQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQs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QUFDLENBQUM7TUFDOUIsQ0FBQyxDQUFDLEVBQ0ZxQixPQUNGLENBQUM7SUFDSDtJQUVBOUIsWUFBWSxHQUFHQSxZQUFZLElBQUksTUFBTTtJQUVyQyxJQUFJaUMsWUFBWSxHQUFHLE1BQU1sRSxTQUFTLENBQUNGLGNBQUssQ0FBQ3FFLE9BQU8sQ0FBQ25FLFNBQVMsRUFBRWlDLFlBQVksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDNEIsUUFBUSxFQUFFdEQsTUFBTSxDQUFDO0lBRXRHLENBQUN1RCxnQkFBZ0IsSUFBSXBCLFdBQVcsSUFBSUEsV0FBVyxDQUFDLENBQUM7SUFFakQsT0FBTyxNQUFNLElBQUkwQixPQUFPLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxNQUFNLEtBQUs7TUFDNUMsSUFBQUMsZUFBTSxFQUFDRixPQUFPLEVBQUVDLE1BQU0sRUFBRTtRQUN0QjNDLElBQUksRUFBRXVDLFlBQVk7UUFDbEJ4RSxPQUFPLEVBQUU4RSxxQkFBWSxDQUFDQyxJQUFJLENBQUNaLFFBQVEsQ0FBQ25FLE9BQU8sQ0FBQztRQUM1Q2dGLE1BQU0sRUFBRWIsUUFBUSxDQUFDYSxNQUFNO1FBQ3ZCQyxVQUFVLEVBQUVkLFFBQVEsQ0FBQ2MsVUFBVTtRQUMvQnBFLE1BQU07UUFDTmtDO01BQ0YsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDLE9BQU9tQyxHQUFHLEVBQUU7SUFDWmxDLFdBQVcsSUFBSUEsV0FBVyxDQUFDLENBQUM7SUFFNUIsSUFBSWtDLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxJQUFJLEtBQUssV0FBVyxJQUFJLG9CQUFvQixDQUFDOUYsSUFBSSxDQUFDNkYsR0FBRyxDQUFDRSxPQUFPLENBQUMsRUFBRTtNQUM3RSxNQUFNQyxNQUFNLENBQUNDLE1BQU0sQ0FDakIsSUFBSXhFLG1CQUFVLENBQUMsZUFBZSxFQUFFQSxtQkFBVSxDQUFDeUUsV0FBVyxFQUFFMUUsTUFBTSxFQUFFa0MsT0FBTyxDQUFDLEVBQ3hFO1FBQ0V5QyxLQUFLLEVBQUVOLEdBQUcsQ0FBQ00sS0FBSyxJQUFJTjtNQUN0QixDQUNGLENBQUM7SUFDSDtJQUVBLE1BQU1wRSxtQkFBVSxDQUFDaUUsSUFBSSxDQUFDRyxHQUFHLEVBQUVBLEdBQUcsSUFBSUEsR0FBRyxDQUFDTyxJQUFJLEVBQUU1RSxNQUFNLEVBQUVrQyxPQUFPLENBQUM7RUFDOUQ7QUFDRixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=