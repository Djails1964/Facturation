{"version":3,"names":["toBoolean","value","undefined","cleanValue","trim","toLowerCase","numValue","parseFloat","isNaN","length","Array","isArray","Boolean","exports","toBooleanInt","toBooleanString","normalizeBooleanFields","obj","booleanFields","normalized","forEach","field","hasOwnProperty","normalizeBooleanFieldsArray","array","map","item","isValidBoolean","validStrings","includes","normalizeService","service","normalizeUnite","unite","normalizeTypeTarif","typeTarif","normalizeServices","services","normalizeUnites","unites","normalizeTypesTarifs","typesTarifs","booleanHelper","_default","default"],"sources":["booleanHelper.js"],"sourcesContent":["// src/utils/booleanHelper.js\r\n/**\r\n * Helper pour gérer les conversions de booléens de manière sécurisée\r\n * Résout les problèmes de conversion entre différents environnements (dev/prod)\r\n * où les valeurs booléennes peuvent être stockées comme 0/1, \"0\"/\"1\", true/false, etc.\r\n */\r\n\r\n/**\r\n * Convertit une valeur en booléen de manière sécurisée\r\n * Gère tous les cas de figure courants entre dev et production\r\n * @param {any} value - Valeur à convertir en booléen\r\n * @returns {boolean} - Booléen converti\r\n */\r\nexport const toBoolean = (value) => {\r\n  // Si déjà un booléen, le retourner directement\r\n  if (typeof value === 'boolean') {\r\n    return value;\r\n  }\r\n  \r\n  // Si null ou undefined, retourner false\r\n  if (value === null || value === undefined) {\r\n    return false;\r\n  }\r\n  \r\n  // Si c'est un nombre\r\n  if (typeof value === 'number') {\r\n    return value !== 0;\r\n  }\r\n  \r\n  // Si c'est une chaîne\r\n  if (typeof value === 'string') {\r\n    // Nettoyer la chaîne (trim et lowercase)\r\n    const cleanValue = value.trim().toLowerCase();\r\n    \r\n    // Cas explicites de \"true\"\r\n    if (cleanValue === 'true' || cleanValue === 'yes' || cleanValue === 'oui' || cleanValue === 'on') {\r\n      return true;\r\n    }\r\n    \r\n    // Cas explicites de \"false\"\r\n    if (cleanValue === 'false' || cleanValue === 'no' || cleanValue === 'non' || cleanValue === 'off' || cleanValue === '') {\r\n      return false;\r\n    }\r\n    \r\n    // Conversion numérique pour les chaînes \"0\", \"1\", etc.\r\n    const numValue = parseFloat(cleanValue);\r\n    if (!isNaN(numValue)) {\r\n      return numValue !== 0;\r\n    }\r\n    \r\n    // Si la chaîne n'est ni vide ni un nombre, on considère qu'une chaîne non-vide = true\r\n    return cleanValue.length > 0;\r\n  }\r\n  \r\n  // Pour les objets et arrays, vérifier s'ils sont \"truthy\"\r\n  if (typeof value === 'object') {\r\n    if (Array.isArray(value)) {\r\n      return value.length > 0;\r\n    }\r\n    return value !== null; // un objet non-null est considéré comme true\r\n  }\r\n  \r\n  // Fallback : utiliser la conversion JavaScript standard\r\n  return Boolean(value);\r\n};\r\n\r\n/**\r\n * Convertit une valeur en entier pour base de données (0 ou 1)\r\n * @param {any} value - Valeur à convertir\r\n * @returns {number} - 0 ou 1\r\n */\r\nexport const toBooleanInt = (value) => {\r\n  return toBoolean(value) ? 1 : 0;\r\n};\r\n\r\n/**\r\n * Convertit une valeur en chaîne pour base de données (\"0\" ou \"1\")\r\n * @param {any} value - Valeur à convertir\r\n * @returns {string} - \"0\" ou \"1\"\r\n */\r\nexport const toBooleanString = (value) => {\r\n  return toBoolean(value) ? \"1\" : \"0\";\r\n};\r\n\r\n/**\r\n * Normalise les propriétés booléennes d'un objet\r\n * Utile pour traiter les réponses d'API où certains champs peuvent être des booléens\r\n * @param {Object} obj - Objet à normaliser\r\n * @param {string[]} booleanFields - Tableau des noms de propriétés à traiter comme booléens\r\n * @returns {Object} - Objet avec les propriétés booléennes normalisées\r\n */\r\nexport const normalizeBooleanFields = (obj, booleanFields) => {\r\n  if (!obj || typeof obj !== 'object' || !Array.isArray(booleanFields)) {\r\n    return obj;\r\n  }\r\n  \r\n  const normalized = { ...obj };\r\n  \r\n  booleanFields.forEach(field => {\r\n    if (normalized.hasOwnProperty(field)) {\r\n      normalized[field] = toBoolean(normalized[field]);\r\n    }\r\n  });\r\n  \r\n  return normalized;\r\n};\r\n\r\n/**\r\n * Normalise les propriétés booléennes d'un tableau d'objets\r\n * @param {Array} array - Tableau d'objets à normaliser\r\n * @param {string[]} booleanFields - Tableau des noms de propriétés à traiter comme booléens\r\n * @returns {Array} - Tableau avec les propriétés booléennes normalisées\r\n */\r\nexport const normalizeBooleanFieldsArray = (array, booleanFields) => {\r\n  if (!Array.isArray(array)) {\r\n    return array;\r\n  }\r\n  \r\n  return array.map(item => normalizeBooleanFields(item, booleanFields));\r\n};\r\n\r\n/**\r\n * Valide qu'une valeur est un booléen valide\r\n * @param {any} value - Valeur à valider\r\n * @returns {boolean} - True si la valeur peut être convertie en booléen de manière fiable\r\n */\r\nexport const isValidBoolean = (value) => {\r\n  // Les types déjà booléens sont valides\r\n  if (typeof value === 'boolean') {\r\n    return true;\r\n  }\r\n  \r\n  // Les nombres sont valides (0/1, etc.)\r\n  if (typeof value === 'number' && !isNaN(value)) {\r\n    return true;\r\n  }\r\n  \r\n  // Les chaînes représentant des booléens sont valides\r\n  if (typeof value === 'string') {\r\n    const cleanValue = value.trim().toLowerCase();\r\n    const validStrings = ['true', 'false', 'yes', 'no', 'oui', 'non', 'on', 'off', '0', '1', ''];\r\n    return validStrings.includes(cleanValue) || !isNaN(parseFloat(cleanValue));\r\n  }\r\n  \r\n  // null et undefined sont considérés comme valides (false)\r\n  if (value === null || value === undefined) {\r\n    return true;\r\n  }\r\n  \r\n  return false;\r\n};\r\n\r\n/**\r\n * Fonctions spécialisées pour les cas d'usage fréquents dans votre application\r\n */\r\n\r\n/**\r\n * Normalise les propriétés d'un service (actif, isDefault, etc.)\r\n * @param {Object} service - Objet service à normaliser\r\n * @returns {Object} - Service avec propriétés booléennes normalisées\r\n */\r\nexport const normalizeService = (service) => {\r\n  return normalizeBooleanFields(service, ['actif', 'isDefault']);\r\n};\r\n\r\n/**\r\n * Normalise les propriétés d'une unité\r\n * @param {Object} unite - Objet unité à normaliser\r\n * @returns {Object} - Unité avec propriétés booléennes normalisées\r\n */\r\nexport const normalizeUnite = (unite) => {\r\n  return normalizeBooleanFields(unite, ['actif', 'isDefault']);\r\n};\r\n\r\n/**\r\n * Normalise les propriétés d'un type de tarif\r\n * @param {Object} typeTarif - Objet type de tarif à normaliser\r\n * @returns {Object} - Type de tarif avec propriétés booléennes normalisées\r\n */\r\nexport const normalizeTypeTarif = (typeTarif) => {\r\n  return normalizeBooleanFields(typeTarif, ['actif', 'isDefault']);\r\n};\r\n\r\n/**\r\n * Normalise un tableau de services\r\n * @param {Array} services - Tableau de services\r\n * @returns {Array} - Services normalisés\r\n */\r\nexport const normalizeServices = (services) => {\r\n  return normalizeBooleanFieldsArray(services, ['actif', 'isDefault']);\r\n};\r\n\r\n/**\r\n * Normalise un tableau d'unités\r\n * @param {Array} unites - Tableau d'unités\r\n * @returns {Array} - Unités normalisées\r\n */\r\nexport const normalizeUnites = (unites) => {\r\n  return normalizeBooleanFieldsArray(unites, ['actif', 'isDefault']);\r\n};\r\n\r\n/**\r\n * Normalise un tableau de types de tarifs\r\n * @param {Array} typesTarifs - Tableau de types de tarifs\r\n * @returns {Array} - Types de tarifs normalisés\r\n */\r\nexport const normalizeTypesTarifs = (typesTarifs) => {\r\n  return normalizeBooleanFieldsArray(typesTarifs, ['actif', 'isDefault']);\r\n};\r\n\r\n// Export par défaut d'un objet contenant toutes les fonctions\r\nconst booleanHelper = {\r\n  toBoolean,\r\n  toBooleanInt,\r\n  toBooleanString,\r\n  normalizeBooleanFields,\r\n  normalizeBooleanFieldsArray,\r\n  isValidBoolean,\r\n  normalizeService,\r\n  normalizeUnite,\r\n  normalizeTypeTarif,\r\n  normalizeServices,\r\n  normalizeUnites,\r\n  normalizeTypesTarifs\r\n};\r\n\r\nexport default booleanHelper;"],"mappings":"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","ignoreList":[]}