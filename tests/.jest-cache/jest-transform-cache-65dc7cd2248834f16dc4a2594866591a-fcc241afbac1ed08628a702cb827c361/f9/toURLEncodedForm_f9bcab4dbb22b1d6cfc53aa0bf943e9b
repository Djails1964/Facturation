28bdb0b83d4ed9ec1a0a8ff184a0f552
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = toURLEncodedForm;
var _utils = _interopRequireDefault(require("../utils.js"));
var _toFormData = _interopRequireDefault(require("./toFormData.js"));
var _index = _interopRequireDefault(require("../platform/index.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function toURLEncodedForm(data, options) {
  return (0, _toFormData.default)(data, new _index.default.classes.URLSearchParams(), Object.assign({
    visitor: function (value, key, path, helpers) {
      if (_index.default.isNode && _utils.default.isBuffer(value)) {
        this.append(key, value.toString('base64'));
        return false;
      }
      return helpers.defaultVisitor.apply(this, arguments);
    }
  }, options));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJ0b1VSTEVuY29kZWRGb3JtIiwiX3V0aWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdG9Gb3JtRGF0YSIsIl9pbmRleCIsImUiLCJfX2VzTW9kdWxlIiwiZGF0YSIsIm9wdGlvbnMiLCJ0b0Zvcm1EYXRhIiwicGxhdGZvcm0iLCJjbGFzc2VzIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXNzaWduIiwidmlzaXRvciIsImtleSIsInBhdGgiLCJoZWxwZXJzIiwiaXNOb2RlIiwidXRpbHMiLCJpc0J1ZmZlciIsImFwcGVuZCIsInRvU3RyaW5nIiwiZGVmYXVsdFZpc2l0b3IiLCJhcHBseSIsImFyZ3VtZW50cyJdLCJzb3VyY2VzIjpbInRvVVJMRW5jb2RlZEZvcm0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9Gb3JtRGF0YShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgdmlzaXRvcjogZnVuY3Rpb24odmFsdWUsIGtleSwgcGF0aCwgaGVscGVycykge1xuICAgICAgaWYgKHBsYXRmb3JtLmlzTm9kZSAmJiB1dGlscy5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoZWxwZXJzLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCBvcHRpb25zKSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQUNBLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLE9BQUEsR0FBQUMsZ0JBQUE7QUFFYixJQUFBQyxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxXQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBUCxPQUFBLEVBQUFPLENBQUE7QUFFN0IsU0FBU04sZ0JBQWdCQSxDQUFDUSxJQUFJLEVBQUVDLE9BQU8sRUFBRTtFQUN0RCxPQUFPLElBQUFDLG1CQUFVLEVBQUNGLElBQUksRUFBRSxJQUFJRyxjQUFRLENBQUNDLE9BQU8sQ0FBQ0MsZUFBZSxDQUFDLENBQUMsRUFBRWxCLE1BQU0sQ0FBQ21CLE1BQU0sQ0FBQztJQUM1RUMsT0FBTyxFQUFFLFNBQUFBLENBQVNqQixLQUFLLEVBQUVrQixHQUFHLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFO01BQzNDLElBQUlQLGNBQVEsQ0FBQ1EsTUFBTSxJQUFJQyxjQUFLLENBQUNDLFFBQVEsQ0FBQ3ZCLEtBQUssQ0FBQyxFQUFFO1FBQzVDLElBQUksQ0FBQ3dCLE1BQU0sQ0FBQ04sR0FBRyxFQUFFbEIsS0FBSyxDQUFDeUIsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFDLE9BQU8sS0FBSztNQUNkO01BRUEsT0FBT0wsT0FBTyxDQUFDTSxjQUFjLENBQUNDLEtBQUssQ0FBQyxJQUFJLEVBQUVDLFNBQVMsQ0FBQztJQUN0RDtFQUNGLENBQUMsRUFBRWpCLE9BQU8sQ0FBQyxDQUFDO0FBQ2QiLCJpZ25vcmVMaXN0IjpbXX0=