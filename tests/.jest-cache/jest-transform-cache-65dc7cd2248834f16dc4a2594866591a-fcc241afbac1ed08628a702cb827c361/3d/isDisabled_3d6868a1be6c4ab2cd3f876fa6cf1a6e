84472b2b3080ca2e20a314b47d5fa64a
'use strict';

var isElementType = require("./isElementType.js");

// This should probably just rely on the :disabled pseudo-class, but JSDOM doesn't implement it properly.
function isDisabled(element) {
  for (let el = element; el; el = el.parentElement) {
    if (isElementType.isElementType(el, ['button', 'input', 'select', 'textarea', 'optgroup', 'option'])) {
      if (el.hasAttribute('disabled')) {
        return true;
      }
    } else if (isElementType.isElementType(el, 'fieldset')) {
      var _el_querySelector;
      if (el.hasAttribute('disabled') && !((_el_querySelector = el.querySelector(':scope > legend')) === null || _el_querySelector === undefined ? undefined : _el_querySelector.contains(element))) {
        return true;
      }
    } else if (el.tagName.includes('-')) {
      if (el.constructor.formAssociated && el.hasAttribute('disabled')) {
        return true;
      }
    }
  }
  return false;
}
exports.isDisabled = isDisabled;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0VsZW1lbnRUeXBlIiwicmVxdWlyZSIsImlzRGlzYWJsZWQiLCJlbGVtZW50IiwiZWwiLCJwYXJlbnRFbGVtZW50IiwiaGFzQXR0cmlidXRlIiwiX2VsX3F1ZXJ5U2VsZWN0b3IiLCJxdWVyeVNlbGVjdG9yIiwidW5kZWZpbmVkIiwiY29udGFpbnMiLCJ0YWdOYW1lIiwiaW5jbHVkZXMiLCJjb25zdHJ1Y3RvciIsImZvcm1Bc3NvY2lhdGVkIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImlzRGlzYWJsZWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNFbGVtZW50VHlwZSA9IHJlcXVpcmUoJy4vaXNFbGVtZW50VHlwZS5qcycpO1xuXG4vLyBUaGlzIHNob3VsZCBwcm9iYWJseSBqdXN0IHJlbHkgb24gdGhlIDpkaXNhYmxlZCBwc2V1ZG8tY2xhc3MsIGJ1dCBKU0RPTSBkb2Vzbid0IGltcGxlbWVudCBpdCBwcm9wZXJseS5cbmZ1bmN0aW9uIGlzRGlzYWJsZWQoZWxlbWVudCkge1xuICAgIGZvcihsZXQgZWwgPSBlbGVtZW50OyBlbDsgZWwgPSBlbC5wYXJlbnRFbGVtZW50KXtcbiAgICAgICAgaWYgKGlzRWxlbWVudFR5cGUuaXNFbGVtZW50VHlwZShlbCwgW1xuICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAnaW5wdXQnLFxuICAgICAgICAgICAgJ3NlbGVjdCcsXG4gICAgICAgICAgICAndGV4dGFyZWEnLFxuICAgICAgICAgICAgJ29wdGdyb3VwJyxcbiAgICAgICAgICAgICdvcHRpb24nXG4gICAgICAgIF0pKSB7XG4gICAgICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50VHlwZS5pc0VsZW1lbnRUeXBlKGVsLCAnZmllbGRzZXQnKSkge1xuICAgICAgICAgICAgdmFyIF9lbF9xdWVyeVNlbGVjdG9yO1xuICAgICAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSAmJiAhKChfZWxfcXVlcnlTZWxlY3RvciA9IGVsLnF1ZXJ5U2VsZWN0b3IoJzpzY29wZSA+IGxlZ2VuZCcpKSA9PT0gbnVsbCB8fCBfZWxfcXVlcnlTZWxlY3RvciA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogX2VsX3F1ZXJ5U2VsZWN0b3IuY29udGFpbnMoZWxlbWVudCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZWwudGFnTmFtZS5pbmNsdWRlcygnLScpKSB7XG4gICAgICAgICAgICBpZiAoZWwuY29uc3RydWN0b3IuZm9ybUFzc29jaWF0ZWQgJiYgZWwuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnRzLmlzRGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLGFBQWEsR0FBR0MsT0FBTyxxQkFBcUIsQ0FBQzs7QUFFakQ7QUFDQSxTQUFTQyxVQUFVQSxDQUFDQyxPQUFPLEVBQUU7RUFDekIsS0FBSSxJQUFJQyxFQUFFLEdBQUdELE9BQU8sRUFBRUMsRUFBRSxFQUFFQSxFQUFFLEdBQUdBLEVBQUUsQ0FBQ0MsYUFBYSxFQUFDO0lBQzVDLElBQUlMLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDSSxFQUFFLEVBQUUsQ0FDaEMsUUFBUSxFQUNSLE9BQU8sRUFDUCxRQUFRLEVBQ1IsVUFBVSxFQUNWLFVBQVUsRUFDVixRQUFRLENBQ1gsQ0FBQyxFQUFFO01BQ0EsSUFBSUEsRUFBRSxDQUFDRSxZQUFZLENBQUMsVUFBVSxDQUFDLEVBQUU7UUFDN0IsT0FBTyxJQUFJO01BQ2Y7SUFDSixDQUFDLE1BQU0sSUFBSU4sYUFBYSxDQUFDQSxhQUFhLENBQUNJLEVBQUUsRUFBRSxVQUFVLENBQUMsRUFBRTtNQUNwRCxJQUFJRyxpQkFBaUI7TUFDckIsSUFBSUgsRUFBRSxDQUFDRSxZQUFZLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDQyxpQkFBaUIsR0FBR0gsRUFBRSxDQUFDSSxhQUFhLENBQUMsaUJBQWlCLENBQUMsTUFBTSxJQUFJLElBQUlELGlCQUFpQixLQUFLRSxTQUFTLEdBQUdBLFNBQVMsR0FBR0YsaUJBQWlCLENBQUNHLFFBQVEsQ0FBQ1AsT0FBTyxDQUFDLENBQUMsRUFBRTtRQUMzTCxPQUFPLElBQUk7TUFDZjtJQUNKLENBQUMsTUFBTSxJQUFJQyxFQUFFLENBQUNPLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO01BQ2pDLElBQUlSLEVBQUUsQ0FBQ1MsV0FBVyxDQUFDQyxjQUFjLElBQUlWLEVBQUUsQ0FBQ0UsWUFBWSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQzlELE9BQU8sSUFBSTtNQUNmO0lBQ0o7RUFDSjtFQUNBLE9BQU8sS0FBSztBQUNoQjtBQUVBUyxPQUFPLENBQUNiLFVBQVUsR0FBR0EsVUFBVSIsImlnbm9yZUxpc3QiOltdfQ==