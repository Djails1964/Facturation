{"version":3,"names":["_index","_interopRequireDefault","require","_utils","_isURLSameOrigin","_cookies","_buildFullPath","_mergeConfig","_AxiosHeaders","_buildURL","e","__esModule","default","_default","config","newConfig","mergeConfig","data","withXSRFToken","xsrfHeaderName","xsrfCookieName","headers","auth","AxiosHeaders","from","url","buildURL","buildFullPath","baseURL","allowAbsoluteUrls","params","paramsSerializer","set","btoa","username","password","unescape","encodeURIComponent","contentType","utils","isFormData","platform","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","setContentType","undefined","getContentType","type","tokens","split","map","token","trim","filter","Boolean","join","isFunction","isURLSameOrigin","xsrfValue","cookies","read","exports"],"sources":["resolveConfig.js"],"sourcesContent":["import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n"],"mappings":"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","ignoreList":[]}