92674cf55ebac3644eab653590ec9721
'use strict';

require("../../utils/dataTransfer/Clipboard.js");
var isContentEditable = require("../../utils/edit/isContentEditable.js");
var selection = require("../../utils/focus/selection.js");
var setSelection = require("./setSelection.js");

/**
 * Backward-compatible selection.
 *
 * Handles input elements and contenteditable if it only contains a single text node.
 */
function setSelectionRange(element, anchorOffset, focusOffset) {
  var _element_firstChild;
  if (selection.hasOwnSelection(element)) {
    return setSelection.setSelection({
      focusNode: element,
      anchorOffset,
      focusOffset
    });
  }
  /* istanbul ignore else */
  if (isContentEditable.isContentEditable(element) && ((_element_firstChild = element.firstChild) === null || _element_firstChild === undefined ? undefined : _element_firstChild.nodeType) === 3) {
    return setSelection.setSelection({
      focusNode: element.firstChild,
      anchorOffset,
      focusOffset
    });
  }
  /* istanbul ignore next */
  throw new Error('Not implemented. The result of this interaction is unreliable.');
}
exports.setSelectionRange = setSelectionRange;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiaXNDb250ZW50RWRpdGFibGUiLCJzZWxlY3Rpb24iLCJzZXRTZWxlY3Rpb24iLCJzZXRTZWxlY3Rpb25SYW5nZSIsImVsZW1lbnQiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsIl9lbGVtZW50X2ZpcnN0Q2hpbGQiLCJoYXNPd25TZWxlY3Rpb24iLCJmb2N1c05vZGUiLCJmaXJzdENoaWxkIiwidW5kZWZpbmVkIiwibm9kZVR5cGUiLCJFcnJvciIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzZXRTZWxlY3Rpb25SYW5nZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uLy4uL3V0aWxzL2RhdGFUcmFuc2Zlci9DbGlwYm9hcmQuanMnKTtcbnZhciBpc0NvbnRlbnRFZGl0YWJsZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2VkaXQvaXNDb250ZW50RWRpdGFibGUuanMnKTtcbnZhciBzZWxlY3Rpb24gPSByZXF1aXJlKCcuLi8uLi91dGlscy9mb2N1cy9zZWxlY3Rpb24uanMnKTtcbnZhciBzZXRTZWxlY3Rpb24gPSByZXF1aXJlKCcuL3NldFNlbGVjdGlvbi5qcycpO1xuXG4vKipcbiAqIEJhY2t3YXJkLWNvbXBhdGlibGUgc2VsZWN0aW9uLlxuICpcbiAqIEhhbmRsZXMgaW5wdXQgZWxlbWVudHMgYW5kIGNvbnRlbnRlZGl0YWJsZSBpZiBpdCBvbmx5IGNvbnRhaW5zIGEgc2luZ2xlIHRleHQgbm9kZS5cbiAqLyBmdW5jdGlvbiBzZXRTZWxlY3Rpb25SYW5nZShlbGVtZW50LCBhbmNob3JPZmZzZXQsIGZvY3VzT2Zmc2V0KSB7XG4gICAgdmFyIF9lbGVtZW50X2ZpcnN0Q2hpbGQ7XG4gICAgaWYgKHNlbGVjdGlvbi5oYXNPd25TZWxlY3Rpb24oZWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuIHNldFNlbGVjdGlvbi5zZXRTZWxlY3Rpb24oe1xuICAgICAgICAgICAgZm9jdXNOb2RlOiBlbGVtZW50LFxuICAgICAgICAgICAgYW5jaG9yT2Zmc2V0LFxuICAgICAgICAgICAgZm9jdXNPZmZzZXRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIGlmIChpc0NvbnRlbnRFZGl0YWJsZS5pc0NvbnRlbnRFZGl0YWJsZShlbGVtZW50KSAmJiAoKF9lbGVtZW50X2ZpcnN0Q2hpbGQgPSBlbGVtZW50LmZpcnN0Q2hpbGQpID09PSBudWxsIHx8IF9lbGVtZW50X2ZpcnN0Q2hpbGQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IF9lbGVtZW50X2ZpcnN0Q2hpbGQubm9kZVR5cGUpID09PSAzKSB7XG4gICAgICAgIHJldHVybiBzZXRTZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHtcbiAgICAgICAgICAgIGZvY3VzTm9kZTogZWxlbWVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgYW5jaG9yT2Zmc2V0LFxuICAgICAgICAgICAgZm9jdXNPZmZzZXRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkLiBUaGUgcmVzdWx0IG9mIHRoaXMgaW50ZXJhY3Rpb24gaXMgdW5yZWxpYWJsZS4nKTtcbn1cblxuZXhwb3J0cy5zZXRTZWxlY3Rpb25SYW5nZSA9IHNldFNlbGVjdGlvblJhbmdlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxPQUFPLHdDQUF3QyxDQUFDO0FBQ2hELElBQUlDLGlCQUFpQixHQUFHRCxPQUFPLHdDQUF3QyxDQUFDO0FBQ3hFLElBQUlFLFNBQVMsR0FBR0YsT0FBTyxpQ0FBaUMsQ0FBQztBQUN6RCxJQUFJRyxZQUFZLEdBQUdILE9BQU8sb0JBQW9CLENBQUM7O0FBRS9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBSSxTQUFTSSxpQkFBaUJBLENBQUNDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxXQUFXLEVBQUU7RUFDL0QsSUFBSUMsbUJBQW1CO0VBQ3ZCLElBQUlOLFNBQVMsQ0FBQ08sZUFBZSxDQUFDSixPQUFPLENBQUMsRUFBRTtJQUNwQyxPQUFPRixZQUFZLENBQUNBLFlBQVksQ0FBQztNQUM3Qk8sU0FBUyxFQUFFTCxPQUFPO01BQ2xCQyxZQUFZO01BQ1pDO0lBQ0osQ0FBQyxDQUFDO0VBQ047RUFDQTtFQUEyQixJQUFJTixpQkFBaUIsQ0FBQ0EsaUJBQWlCLENBQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQ0csbUJBQW1CLEdBQUdILE9BQU8sQ0FBQ00sVUFBVSxNQUFNLElBQUksSUFBSUgsbUJBQW1CLEtBQUtJLFNBQVMsR0FBR0EsU0FBUyxHQUFHSixtQkFBbUIsQ0FBQ0ssUUFBUSxNQUFNLENBQUMsRUFBRTtJQUN4TixPQUFPVixZQUFZLENBQUNBLFlBQVksQ0FBQztNQUM3Qk8sU0FBUyxFQUFFTCxPQUFPLENBQUNNLFVBQVU7TUFDN0JMLFlBQVk7TUFDWkM7SUFDSixDQUFDLENBQUM7RUFDTjtFQUNBO0VBQTJCLE1BQU0sSUFBSU8sS0FBSyxDQUFDLGdFQUFnRSxDQUFDO0FBQ2hIO0FBRUFDLE9BQU8sQ0FBQ1gsaUJBQWlCLEdBQUdBLGlCQUFpQiIsImlnbm9yZUxpc3QiOltdfQ==