{"version":3,"names":["_createLogger","require","log","createLogger","handleApiError","error","context","message","response","status","data","session_expired","warn"],"sources":["apiErrorHandler.js"],"sourcesContent":["/**\r\n * G√®re les erreurs API de mani√®re centralis√©e\r\n * @param {Error} error - Erreur captur√©e\r\n * @param {string} context - Contexte de l'erreur (pour les logs)\r\n * @throws {Error} - Re-throw l'erreur si ce n'est pas une erreur de session\r\n */\r\n\r\nimport { createLogger } from './createLogger';\r\n\r\nconst log = createLogger('apiErrorHandlerHandler');\r\n\r\nexport function handleApiError(error, context = '') {\r\n  // V√©rifier si c'est une session expir√©e\r\n  if (error.message === 'SESSION_EXPIRED' || \r\n      error.response?.status === 401 ||\r\n      error.response?.data?.session_expired === true) {\r\n    \r\n    log.warn(`üö® Session expir√©e d√©tect√©e ${context ? 'dans ' + context : ''}`);\r\n    throw error; // L'intercepteur g√®re la redirection\r\n  }\r\n  \r\n  // Pour les autres erreurs, logger avec le contexte\r\n  log.error(`‚ùå Erreur ${context ? 'dans ' + context : ''}: ${error.message}`);\r\n  throw error;\r\n}"],"mappings":";;;;;;AAOA,IAAAA,aAAA,GAAAC,OAAA;AAPA;AACA;AACA;AACA;AACA;AACA;;AAIA,MAAMC,GAAG,GAAG,IAAAC,0BAAY,EAAC,wBAAwB,CAAC;AAE3C,SAASC,cAAcA,CAACC,KAAK,EAAEC,OAAO,GAAG,EAAE,EAAE;EAClD;EACA,IAAID,KAAK,CAACE,OAAO,KAAK,iBAAiB,IACnCF,KAAK,CAACG,QAAQ,EAAEC,MAAM,KAAK,GAAG,IAC9BJ,KAAK,CAACG,QAAQ,EAAEE,IAAI,EAAEC,eAAe,KAAK,IAAI,EAAE;IAElDT,GAAG,CAACU,IAAI,CAAC,+BAA+BN,OAAO,GAAG,OAAO,GAAGA,OAAO,GAAG,EAAE,EAAE,CAAC;IAC3E,MAAMD,KAAK,CAAC,CAAC;EACf;;EAEA;EACAH,GAAG,CAACG,KAAK,CAAC,YAAYC,OAAO,GAAG,OAAO,GAAGA,OAAO,GAAG,EAAE,KAAKD,KAAK,CAACE,OAAO,EAAE,CAAC;EAC3E,MAAMF,KAAK;AACb","ignoreList":[]}