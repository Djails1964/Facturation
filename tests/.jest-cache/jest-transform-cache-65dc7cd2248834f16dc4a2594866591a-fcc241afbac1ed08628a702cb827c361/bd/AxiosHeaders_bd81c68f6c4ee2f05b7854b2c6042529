85bceef296fdc731bd5c515b47b25764
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _utils = _interopRequireDefault(require("../utils.js"));
var _parseHeaders = _interopRequireDefault(require("../helpers/parseHeaders.js"));
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const $internals = Symbol('internals');
function normalizeHeader(header) {
  return header && String(header).trim().toLowerCase();
}
function normalizeValue(value) {
  if (value === false || value == null) {
    return value;
  }
  return _utils.default.isArray(value) ? value.map(normalizeValue) : String(value);
}
function parseTokens(str) {
  const tokens = Object.create(null);
  const tokensRE = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
  let match;
  while (match = tokensRE.exec(str)) {
    tokens[match[1]] = match[2];
  }
  return tokens;
}
const isValidHeaderName = str => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());
function matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {
  if (_utils.default.isFunction(filter)) {
    return filter.call(this, value, header);
  }
  if (isHeaderNameFilter) {
    value = header;
  }
  if (!_utils.default.isString(value)) return;
  if (_utils.default.isString(filter)) {
    return value.indexOf(filter) !== -1;
  }
  if (_utils.default.isRegExp(filter)) {
    return filter.test(value);
  }
}
function formatHeader(header) {
  return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g, (w, char, str) => {
    return char.toUpperCase() + str;
  });
}
function buildAccessors(obj, header) {
  const accessorName = _utils.default.toCamelCase(' ' + header);
  ['get', 'set', 'has'].forEach(methodName => {
    Object.defineProperty(obj, methodName + accessorName, {
      value: function (arg1, arg2, arg3) {
        return this[methodName].call(this, header, arg1, arg2, arg3);
      },
      configurable: true
    });
  });
}
class AxiosHeaders {
  constructor(headers) {
    headers && this.set(headers);
  }
  set(header, valueOrRewrite, rewrite) {
    const self = this;
    function setHeader(_value, _header, _rewrite) {
      const lHeader = normalizeHeader(_header);
      if (!lHeader) {
        throw new Error('header name must be a non-empty string');
      }
      const key = _utils.default.findKey(self, lHeader);
      if (!key || self[key] === undefined || _rewrite === true || _rewrite === undefined && self[key] !== false) {
        self[key || _header] = normalizeValue(_value);
      }
    }
    const setHeaders = (headers, _rewrite) => _utils.default.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));
    if (_utils.default.isPlainObject(header) || header instanceof this.constructor) {
      setHeaders(header, valueOrRewrite);
    } else if (_utils.default.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {
      setHeaders((0, _parseHeaders.default)(header), valueOrRewrite);
    } else if (_utils.default.isObject(header) && _utils.default.isIterable(header)) {
      let obj = {},
        dest,
        key;
      for (const entry of header) {
        if (!_utils.default.isArray(entry)) {
          throw TypeError('Object iterator must return a key-value pair');
        }
        obj[key = entry[0]] = (dest = obj[key]) ? _utils.default.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]] : entry[1];
      }
      setHeaders(obj, valueOrRewrite);
    } else {
      header != null && setHeader(valueOrRewrite, header, rewrite);
    }
    return this;
  }
  get(header, parser) {
    header = normalizeHeader(header);
    if (header) {
      const key = _utils.default.findKey(this, header);
      if (key) {
        const value = this[key];
        if (!parser) {
          return value;
        }
        if (parser === true) {
          return parseTokens(value);
        }
        if (_utils.default.isFunction(parser)) {
          return parser.call(this, value, key);
        }
        if (_utils.default.isRegExp(parser)) {
          return parser.exec(value);
        }
        throw new TypeError('parser must be boolean|regexp|function');
      }
    }
  }
  has(header, matcher) {
    header = normalizeHeader(header);
    if (header) {
      const key = _utils.default.findKey(this, header);
      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));
    }
    return false;
  }
  delete(header, matcher) {
    const self = this;
    let deleted = false;
    function deleteHeader(_header) {
      _header = normalizeHeader(_header);
      if (_header) {
        const key = _utils.default.findKey(self, _header);
        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {
          delete self[key];
          deleted = true;
        }
      }
    }
    if (_utils.default.isArray(header)) {
      header.forEach(deleteHeader);
    } else {
      deleteHeader(header);
    }
    return deleted;
  }
  clear(matcher) {
    const keys = Object.keys(this);
    let i = keys.length;
    let deleted = false;
    while (i--) {
      const key = keys[i];
      if (!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {
        delete this[key];
        deleted = true;
      }
    }
    return deleted;
  }
  normalize(format) {
    const self = this;
    const headers = {};
    _utils.default.forEach(this, (value, header) => {
      const key = _utils.default.findKey(headers, header);
      if (key) {
        self[key] = normalizeValue(value);
        delete self[header];
        return;
      }
      const normalized = format ? formatHeader(header) : String(header).trim();
      if (normalized !== header) {
        delete self[header];
      }
      self[normalized] = normalizeValue(value);
      headers[normalized] = true;
    });
    return this;
  }
  concat(...targets) {
    return this.constructor.concat(this, ...targets);
  }
  toJSON(asStrings) {
    const obj = Object.create(null);
    _utils.default.forEach(this, (value, header) => {
      value != null && value !== false && (obj[header] = asStrings && _utils.default.isArray(value) ? value.join(', ') : value);
    });
    return obj;
  }
  [Symbol.iterator]() {
    return Object.entries(this.toJSON())[Symbol.iterator]();
  }
  toString() {
    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\n');
  }
  getSetCookie() {
    return this.get("set-cookie") || [];
  }
  get [Symbol.toStringTag]() {
    return 'AxiosHeaders';
  }
  static from(thing) {
    return thing instanceof this ? thing : new this(thing);
  }
  static concat(first, ...targets) {
    const computed = new this(first);
    targets.forEach(target => computed.set(target));
    return computed;
  }
  static accessor(header) {
    const internals = this[$internals] = this[$internals] = {
      accessors: {}
    };
    const accessors = internals.accessors;
    const prototype = this.prototype;
    function defineAccessor(_header) {
      const lHeader = normalizeHeader(_header);
      if (!accessors[lHeader]) {
        buildAccessors(prototype, _header);
        accessors[lHeader] = true;
      }
    }
    _utils.default.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);
    return this;
  }
}
AxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);

// reserved names hotfix
_utils.default.reduceDescriptors(AxiosHeaders.prototype, ({
  value
}, key) => {
  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`
  return {
    get: () => value,
    set(headerValue) {
      this[mapped] = headerValue;
    }
  };
});
_utils.default.freezeMethods(AxiosHeaders);
var _default = exports.default = AxiosHeaders;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImRlZmF1bHQiLCJfdXRpbHMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXJzZUhlYWRlcnMiLCJlIiwiX19lc01vZHVsZSIsIiRpbnRlcm5hbHMiLCJTeW1ib2wiLCJub3JtYWxpemVIZWFkZXIiLCJoZWFkZXIiLCJTdHJpbmciLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJub3JtYWxpemVWYWx1ZSIsInV0aWxzIiwiaXNBcnJheSIsIm1hcCIsInBhcnNlVG9rZW5zIiwic3RyIiwidG9rZW5zIiwiY3JlYXRlIiwidG9rZW5zUkUiLCJtYXRjaCIsImV4ZWMiLCJpc1ZhbGlkSGVhZGVyTmFtZSIsInRlc3QiLCJtYXRjaEhlYWRlclZhbHVlIiwiY29udGV4dCIsImZpbHRlciIsImlzSGVhZGVyTmFtZUZpbHRlciIsImlzRnVuY3Rpb24iLCJjYWxsIiwiaXNTdHJpbmciLCJpbmRleE9mIiwiaXNSZWdFeHAiLCJmb3JtYXRIZWFkZXIiLCJyZXBsYWNlIiwidyIsImNoYXIiLCJ0b1VwcGVyQ2FzZSIsImJ1aWxkQWNjZXNzb3JzIiwib2JqIiwiYWNjZXNzb3JOYW1lIiwidG9DYW1lbENhc2UiLCJmb3JFYWNoIiwibWV0aG9kTmFtZSIsImFyZzEiLCJhcmcyIiwiYXJnMyIsImNvbmZpZ3VyYWJsZSIsIkF4aW9zSGVhZGVycyIsImNvbnN0cnVjdG9yIiwiaGVhZGVycyIsInNldCIsInZhbHVlT3JSZXdyaXRlIiwicmV3cml0ZSIsInNlbGYiLCJzZXRIZWFkZXIiLCJfdmFsdWUiLCJfaGVhZGVyIiwiX3Jld3JpdGUiLCJsSGVhZGVyIiwiRXJyb3IiLCJrZXkiLCJmaW5kS2V5IiwidW5kZWZpbmVkIiwic2V0SGVhZGVycyIsImlzUGxhaW5PYmplY3QiLCJwYXJzZUhlYWRlcnMiLCJpc09iamVjdCIsImlzSXRlcmFibGUiLCJkZXN0IiwiZW50cnkiLCJUeXBlRXJyb3IiLCJnZXQiLCJwYXJzZXIiLCJoYXMiLCJtYXRjaGVyIiwiZGVsZXRlIiwiZGVsZXRlZCIsImRlbGV0ZUhlYWRlciIsImNsZWFyIiwia2V5cyIsImkiLCJsZW5ndGgiLCJub3JtYWxpemUiLCJmb3JtYXQiLCJub3JtYWxpemVkIiwiY29uY2F0IiwidGFyZ2V0cyIsInRvSlNPTiIsImFzU3RyaW5ncyIsImpvaW4iLCJpdGVyYXRvciIsImVudHJpZXMiLCJ0b1N0cmluZyIsImdldFNldENvb2tpZSIsInRvU3RyaW5nVGFnIiwiZnJvbSIsInRoaW5nIiwiZmlyc3QiLCJjb21wdXRlZCIsInRhcmdldCIsImFjY2Vzc29yIiwiaW50ZXJuYWxzIiwiYWNjZXNzb3JzIiwicHJvdG90eXBlIiwiZGVmaW5lQWNjZXNzb3IiLCJyZWR1Y2VEZXNjcmlwdG9ycyIsIm1hcHBlZCIsInNsaWNlIiwiaGVhZGVyVmFsdWUiLCJmcmVlemVNZXRob2RzIiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJBeGlvc0hlYWRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdChoZWFkZXIpICYmIHV0aWxzLmlzSXRlcmFibGUoaGVhZGVyKSkge1xuICAgICAgbGV0IG9iaiA9IHt9LCBkZXN0LCBrZXk7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGhlYWRlcikge1xuICAgICAgICBpZiAoIXV0aWxzLmlzQXJyYXkoZW50cnkpKSB7XG4gICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCdPYmplY3QgaXRlcmF0b3IgbXVzdCByZXR1cm4gYSBrZXktdmFsdWUgcGFpcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqW2tleSA9IGVudHJ5WzBdXSA9IChkZXN0ID0gb2JqW2tleV0pID9cbiAgICAgICAgICAodXRpbHMuaXNBcnJheShkZXN0KSA/IFsuLi5kZXN0LCBlbnRyeVsxXV0gOiBbZGVzdCwgZW50cnlbMV1dKSA6IGVudHJ5WzFdO1xuICAgICAgfVxuXG4gICAgICBzZXRIZWFkZXJzKG9iaiwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0U2V0Q29va2llKCkge1xuICAgIHJldHVybiB0aGlzLmdldChcInNldC1jb29raWVcIikgfHwgW107XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQ0EsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQTtBQUViLElBQUFDLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzRCxTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFMLE9BQUEsRUFBQUssQ0FBQTtBQUV0RCxNQUFNRSxVQUFVLEdBQUdDLE1BQU0sQ0FBQyxXQUFXLENBQUM7QUFFdEMsU0FBU0MsZUFBZUEsQ0FBQ0MsTUFBTSxFQUFFO0VBQy9CLE9BQU9BLE1BQU0sSUFBSUMsTUFBTSxDQUFDRCxNQUFNLENBQUMsQ0FBQ0UsSUFBSSxDQUFDLENBQUMsQ0FBQ0MsV0FBVyxDQUFDLENBQUM7QUFDdEQ7QUFFQSxTQUFTQyxjQUFjQSxDQUFDZixLQUFLLEVBQUU7RUFDN0IsSUFBSUEsS0FBSyxLQUFLLEtBQUssSUFBSUEsS0FBSyxJQUFJLElBQUksRUFBRTtJQUNwQyxPQUFPQSxLQUFLO0VBQ2Q7RUFFQSxPQUFPZ0IsY0FBSyxDQUFDQyxPQUFPLENBQUNqQixLQUFLLENBQUMsR0FBR0EsS0FBSyxDQUFDa0IsR0FBRyxDQUFDSCxjQUFjLENBQUMsR0FBR0gsTUFBTSxDQUFDWixLQUFLLENBQUM7QUFDekU7QUFFQSxTQUFTbUIsV0FBV0EsQ0FBQ0MsR0FBRyxFQUFFO0VBQ3hCLE1BQU1DLE1BQU0sR0FBR3hCLE1BQU0sQ0FBQ3lCLE1BQU0sQ0FBQyxJQUFJLENBQUM7RUFDbEMsTUFBTUMsUUFBUSxHQUFHLGtDQUFrQztFQUNuRCxJQUFJQyxLQUFLO0VBRVQsT0FBUUEsS0FBSyxHQUFH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