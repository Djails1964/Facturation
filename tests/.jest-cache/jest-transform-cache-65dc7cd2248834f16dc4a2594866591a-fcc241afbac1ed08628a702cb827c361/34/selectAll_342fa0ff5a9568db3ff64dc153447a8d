5558dc8b1955ffbdac99e8883ea5a0df
'use strict';

var UI = require("../../document/UI.js");
require("../../utils/dataTransfer/Clipboard.js");
var isContentEditable = require("../../utils/edit/isContentEditable.js");
var selection = require("../../utils/focus/selection.js");
var setSelection = require("./setSelection.js");

/**
 * Expand a selection like the browser does when pressing Ctrl+A.
 */
function selectAll(target) {
  if (selection.hasOwnSelection(target)) {
    return setSelection.setSelection({
      focusNode: target,
      anchorOffset: 0,
      focusOffset: UI.getUIValue(target).length
    });
  }
  var _getContentEditable;
  const focusNode = (_getContentEditable = isContentEditable.getContentEditable(target)) !== null && _getContentEditable !== undefined ? _getContentEditable : target.ownerDocument.body;
  setSelection.setSelection({
    focusNode,
    anchorOffset: 0,
    focusOffset: focusNode.childNodes.length
  });
}
function isAllSelected(target) {
  if (selection.hasOwnSelection(target)) {
    return UI.getUISelection(target).startOffset === 0 && UI.getUISelection(target).endOffset === UI.getUIValue(target).length;
  }
  var _getContentEditable;
  const focusNode = (_getContentEditable = isContentEditable.getContentEditable(target)) !== null && _getContentEditable !== undefined ? _getContentEditable : target.ownerDocument.body;
  const selection$1 = target.ownerDocument.getSelection();
  return (selection$1 === null || selection$1 === undefined ? undefined : selection$1.anchorNode) === focusNode && selection$1.focusNode === focusNode && selection$1.anchorOffset === 0 && selection$1.focusOffset === focusNode.childNodes.length;
}
exports.isAllSelected = isAllSelected;
exports.selectAll = selectAll;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJVSSIsInJlcXVpcmUiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInNlbGVjdGlvbiIsInNldFNlbGVjdGlvbiIsInNlbGVjdEFsbCIsInRhcmdldCIsImhhc093blNlbGVjdGlvbiIsImZvY3VzTm9kZSIsImFuY2hvck9mZnNldCIsImZvY3VzT2Zmc2V0IiwiZ2V0VUlWYWx1ZSIsImxlbmd0aCIsIl9nZXRDb250ZW50RWRpdGFibGUiLCJnZXRDb250ZW50RWRpdGFibGUiLCJ1bmRlZmluZWQiLCJvd25lckRvY3VtZW50IiwiYm9keSIsImNoaWxkTm9kZXMiLCJpc0FsbFNlbGVjdGVkIiwiZ2V0VUlTZWxlY3Rpb24iLCJzdGFydE9mZnNldCIsImVuZE9mZnNldCIsInNlbGVjdGlvbiQxIiwiZ2V0U2VsZWN0aW9uIiwiYW5jaG9yTm9kZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJzZWxlY3RBbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVUkgPSByZXF1aXJlKCcuLi8uLi9kb2N1bWVudC9VSS5qcycpO1xucmVxdWlyZSgnLi4vLi4vdXRpbHMvZGF0YVRyYW5zZmVyL0NsaXBib2FyZC5qcycpO1xudmFyIGlzQ29udGVudEVkaXRhYmxlID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZWRpdC9pc0NvbnRlbnRFZGl0YWJsZS5qcycpO1xudmFyIHNlbGVjdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2ZvY3VzL3NlbGVjdGlvbi5qcycpO1xudmFyIHNldFNlbGVjdGlvbiA9IHJlcXVpcmUoJy4vc2V0U2VsZWN0aW9uLmpzJyk7XG5cbi8qKlxuICogRXhwYW5kIGEgc2VsZWN0aW9uIGxpa2UgdGhlIGJyb3dzZXIgZG9lcyB3aGVuIHByZXNzaW5nIEN0cmwrQS5cbiAqLyBmdW5jdGlvbiBzZWxlY3RBbGwodGFyZ2V0KSB7XG4gICAgaWYgKHNlbGVjdGlvbi5oYXNPd25TZWxlY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gc2V0U2VsZWN0aW9uLnNldFNlbGVjdGlvbih7XG4gICAgICAgICAgICBmb2N1c05vZGU6IHRhcmdldCxcbiAgICAgICAgICAgIGFuY2hvck9mZnNldDogMCxcbiAgICAgICAgICAgIGZvY3VzT2Zmc2V0OiBVSS5nZXRVSVZhbHVlKHRhcmdldCkubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgX2dldENvbnRlbnRFZGl0YWJsZTtcbiAgICBjb25zdCBmb2N1c05vZGUgPSAoX2dldENvbnRlbnRFZGl0YWJsZSA9IGlzQ29udGVudEVkaXRhYmxlLmdldENvbnRlbnRFZGl0YWJsZSh0YXJnZXQpKSAhPT0gbnVsbCAmJiBfZ2V0Q29udGVudEVkaXRhYmxlICE9PSB1bmRlZmluZWQgPyBfZ2V0Q29udGVudEVkaXRhYmxlIDogdGFyZ2V0Lm93bmVyRG9jdW1lbnQuYm9keTtcbiAgICBzZXRTZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHtcbiAgICAgICAgZm9jdXNOb2RlLFxuICAgICAgICBhbmNob3JPZmZzZXQ6IDAsXG4gICAgICAgIGZvY3VzT2Zmc2V0OiBmb2N1c05vZGUuY2hpbGROb2Rlcy5sZW5ndGhcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGlzQWxsU2VsZWN0ZWQodGFyZ2V0KSB7XG4gICAgaWYgKHNlbGVjdGlvbi5oYXNPd25TZWxlY3Rpb24odGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gVUkuZ2V0VUlTZWxlY3Rpb24odGFyZ2V0KS5zdGFydE9mZnNldCA9PT0gMCAmJiBVSS5nZXRVSVNlbGVjdGlvbih0YXJnZXQpLmVuZE9mZnNldCA9PT0gVUkuZ2V0VUlWYWx1ZSh0YXJnZXQpLmxlbmd0aDtcbiAgICB9XG4gICAgdmFyIF9nZXRDb250ZW50RWRpdGFibGU7XG4gICAgY29uc3QgZm9jdXNOb2RlID0gKF9nZXRDb250ZW50RWRpdGFibGUgPSBpc0NvbnRlbnRFZGl0YWJsZS5nZXRDb250ZW50RWRpdGFibGUodGFyZ2V0KSkgIT09IG51bGwgJiYgX2dldENvbnRlbnRFZGl0YWJsZSAhPT0gdW5kZWZpbmVkID8gX2dldENvbnRlbnRFZGl0YWJsZSA6IHRhcmdldC5vd25lckRvY3VtZW50LmJvZHk7XG4gICAgY29uc3Qgc2VsZWN0aW9uJDEgPSB0YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gKHNlbGVjdGlvbiQxID09PSBudWxsIHx8IHNlbGVjdGlvbiQxID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBzZWxlY3Rpb24kMS5hbmNob3JOb2RlKSA9PT0gZm9jdXNOb2RlICYmIHNlbGVjdGlvbiQxLmZvY3VzTm9kZSA9PT0gZm9jdXNOb2RlICYmIHNlbGVjdGlvbiQxLmFuY2hvck9mZnNldCA9PT0gMCAmJiBzZWxlY3Rpb24kMS5mb2N1c09mZnNldCA9PT0gZm9jdXNOb2RlLmNoaWxkTm9kZXMubGVuZ3RoO1xufVxuXG5leHBvcnRzLmlzQWxsU2VsZWN0ZWQgPSBpc0FsbFNlbGVjdGVkO1xuZXhwb3J0cy5zZWxlY3RBbGwgPSBzZWxlY3RBbGw7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsRUFBRSxHQUFHQyxPQUFPLHVCQUF1QixDQUFDO0FBQ3hDQSxPQUFPLHdDQUF3QyxDQUFDO0FBQ2hELElBQUlDLGlCQUFpQixHQUFHRCxPQUFPLHdDQUF3QyxDQUFDO0FBQ3hFLElBQUlFLFNBQVMsR0FBR0YsT0FBTyxpQ0FBaUMsQ0FBQztBQUN6RCxJQUFJRyxZQUFZLEdBQUdILE9BQU8sb0JBQW9CLENBQUM7O0FBRS9DO0FBQ0E7QUFDQTtBQUFJLFNBQVNJLFNBQVNBLENBQUNDLE1BQU0sRUFBRTtFQUMzQixJQUFJSCxTQUFTLENBQUNJLGVBQWUsQ0FBQ0QsTUFBTSxDQUFDLEVBQUU7SUFDbkMsT0FBT0YsWUFBWSxDQUFDQSxZQUFZLENBQUM7TUFDN0JJLFNBQVMsRUFBRUYsTUFBTTtNQUNqQkcsWUFBWSxFQUFFLENBQUM7TUFDZkMsV0FBVyxFQUFFVixFQUFFLENBQUNXLFVBQVUsQ0FBQ0wsTUFBTSxDQUFDLENBQUNNO0lBQ3ZDLENBQUMsQ0FBQztFQUNOO0VBQ0EsSUFBSUMsbUJBQW1CO0VBQ3ZCLE1BQU1MLFNBQVMsR0FBRyxDQUFDSyxtQkFBbUIsR0FBR1gsaUJBQWlCLENBQUNZLGtCQUFrQixDQUFDUixNQUFNLENBQUMsTUFBTSxJQUFJLElBQUlPLG1CQUFtQixLQUFLRSxTQUFTLEdBQUdGLG1CQUFtQixHQUFHUCxNQUFNLENBQUNVLGFBQWEsQ0FBQ0MsSUFBSTtFQUN0TGIsWUFBWSxDQUFDQSxZQUFZLENBQUM7SUFDdEJJLFNBQVM7SUFDVEMsWUFBWSxFQUFFLENBQUM7SUFDZkMsV0FBVyxFQUFFRixTQUFTLENBQUNVLFVBQVUsQ0FBQ047RUFDdEMsQ0FBQyxDQUFDO0FBQ047QUFDQSxTQUFTTyxhQUFhQSxDQUFDYixNQUFNLEVBQUU7RUFDM0IsSUFBSUgsU0FBUyxDQUFDSSxlQUFlLENBQUNELE1BQU0sQ0FBQyxFQUFFO0lBQ25DLE9BQU9OLEVBQUUsQ0FBQ29CLGNBQWMsQ0FBQ2QsTUFBTSxDQUFDLENBQUNlLFdBQVcsS0FBSyxDQUFDLElBQUlyQixFQUFFLENBQUNvQixjQUFjLENBQUNkLE1BQU0sQ0FBQyxDQUFDZ0IsU0FBUyxLQUFLdEIsRUFBRSxDQUFDVyxVQUFVLENBQUNMLE1BQU0sQ0FBQyxDQUFDTSxNQUFNO0VBQzlIO0VBQ0EsSUFBSUMsbUJBQW1CO0VBQ3ZCLE1BQU1MLFNBQVMsR0FBRyxDQUFDSyxtQkFBbUIsR0FBR1gsaUJBQWlCLENBQUNZLGtCQUFrQixDQUFDUixNQUFNLENBQUMsTUFBTSxJQUFJLElBQUlPLG1CQUFtQixLQUFLRSxTQUFTLEdBQUdGLG1CQUFtQixHQUFHUCxNQUFNLENBQUNVLGFBQWEsQ0FBQ0MsSUFBSTtFQUN0TCxNQUFNTSxXQUFXLEdBQUdqQixNQUFNLENBQUNVLGFBQWEsQ0FBQ1EsWUFBWSxDQUFDLENBQUM7RUFDdkQsT0FBTyxDQUFDRCxXQUFXLEtBQUssSUFBSSxJQUFJQSxXQUFXLEtBQUtSLFNBQVMsR0FBR0EsU0FBUyxHQUFHUSxXQUFXLENBQUNFLFVBQVUsTUFBTWpCLFNBQVMsSUFBSWUsV0FBVyxDQUFDZixTQUFTLEtBQUtBLFNBQVMsSUFBSWUsV0FBVyxDQUFDZCxZQUFZLEtBQUssQ0FBQyxJQUFJYyxXQUFXLENBQUNiLFdBQVcsS0FBS0YsU0FBUyxDQUFDVSxVQUFVLENBQUNOLE1BQU07QUFDclA7QUFFQWMsT0FBTyxDQUFDUCxhQUFhLEdBQUdBLGFBQWE7QUFDckNPLE9BQU8sQ0FBQ3JCLFNBQVMsR0FBR0EsU0FBUyIsImlnbm9yZUxpc3QiOltdfQ==